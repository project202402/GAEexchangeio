"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3594],{99938:function(e,t,s){s.d(t,{Z:function(){return y}});var a=s(52322),i=s(65500),l=s(72779),n=s.n(l),r=s(47700),c=s(84986),d=s(84604),o=s(90693),x=s(19783),h=s(4236),u=s(38571),f=s(48935),m=s(88727),v=s(9779),g=s(2784);function y(e){let{value:t,onChange:s,onSetMaxBalance:l,balance:y,balanceLabel:j="Balance",disabled:p=!1,error:w}=e,{currentWallet:N}=(0,h.OZ)(),b=(0,m.UK)(null!=y?y:f.xE,v.y.decimals),k=(0,g.useMemo)(()=>{var e;return[(null==N?void 0:null===(e=N.chain)||void 0===e?void 0:e.chainId)===i.Networks.GOERLI.chainId?v.J:v.y]},[N]);return(0,x.BR)(k),(0,a.jsx)(d.d,{children:(0,a.jsxs)("div",{className:"flex flex-col items-stretch gap-2",children:[(0,a.jsx)("div",{className:n()("flex gap-2 rounded-lg border border-solid bg-gray-0_5 p-3 transition-all",{"border-gray-0_75 focus-within:border-blue-5":!w,"border-red-5":w,"pointer-events-none opacity-50":p}),children:(0,a.jsxs)("div",{className:"flex w-full flex-col items-stretch gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex max-w-[160px] flex-initial items-center gap-1 overflow-hidden text-md text-gray-4",children:[(0,a.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-gray-0_25",children:(0,a.jsx)(r.Z,{className:"w-4 fill-[#010101] dark:fill-[#ffffff]",width:14,height:10})}),"HFT"]}),(0,a.jsx)(o.Z,{validation:"number",placeholder:"0.00",onChange:s,value:t,disabled:p,className:n()("flex-1 overflow-hidden px-1 py-0 text-right text-lg text-gray-7","overflow-ellipsis rounded-none border-none bg-transparent outline-none placeholder:text-gray-4")})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsx)("div",{className:"flex-initial truncate text-2xs text-gray-3",children:"".concat(j,": ").concat(y?"".concat((0,m.Bw)(b,u.Df)," ").concat(v.y.name):"-")}),(0,a.jsx)("div",{className:"flex-none",children:l&&(0,a.jsx)(c.Z,{style:"link",size:"2x-small",disabled:p,onClick:l,type:"button",inline:!0,font:"system",children:"Select Max"})})]})]})}),w&&(0,a.jsx)("div",{className:"text-xs text-red-5",children:w})]})})}},496:function(e,t,s){var a=s(52322),i=s(72779),l=s.n(i),n=s(28879),r=s.n(n),c=s(84986),d=s(87559),o=s(95376),x=s(81227),h=s(45676),u=s(19783),f=s(4236),m=s(14196),v=s(32653),g=s(75763),y=s(64601),j=s(83051),p=s(92193),w=s(136),N=s(60061),b=s(22686),k=s(35395),Z=s(64746),B=s(49073),S=s(47576),C=s(38571),T=s(6797),H=s(50480),E=s(66743),F=s(88727),M=s(93663),O=s(9779),I=s(27502),U=s(2784);t.Z=(0,E.Z)(function(e){let{isOpen:t,onRequestClose:s,onBack:i,hftStaked:n,stakeExpiration:E,additionalHFTStaked:D,additionalLockPeriodDays:P,totalStakedPower:_,dailyHftAward:K,hasNFTBoost:L,onSuccess:q,pageTheme:J}=e,[R,A]=(0,U.useState)(),V=(0,k.pf)(R),{currentWallet:Y}=(0,f.OZ)(),{startTask:z}=(0,h.HJ)(),G=(0,T.Z)([Y]),{selectedGasPrice:W,isEip1559:X}=(0,v.J)(),{balances:Q,refetchBalances:$}=(0,u.ln)(),{showToast:ee}=(0,j.tF)(),{addTransactionHistoryEntry:et,updateTransactionHistoryEntry:es}=(0,w.h)(),{leaseProvider:ea}=(0,y.R)(),ei=(0,g.C)(),el=ei(),{getNativeTokenChain:en}=(0,p.rU)(),er=Y?en(Y.chain):void 0,ec=(r()(E).unix()<r()(el).unix()?r()(el):r()(E)).add(P,"days").toDate(),ed=(0,S.Z)({hftStaked:n.plus(D),stakeExpiration:ec,totalStakedPower:_,dailyHftAward:K,hasNFTBoost:L}),eo=(0,M.SN)({hftStaked:n.plus(D),stakeExpirationTimestampMs:r()(r()(E).isBefore(el)?el:E).add(P,"days").toDate().getTime(),hasNFTBoost:L});if(!Y)return(0,a.jsx)(a.Fragment,{});let ex=(0,I.Kk)(Y.chain)?O.y:O.J;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{isOpen:t,onRequestClose:s,animationTheme:"fade",borderClassName:"hashverse"===J?"bg-gray-0 shadow-[0_0_10px_1px] shadow-[#faed5080] border-yellow-10 border-[2px]":void 0,children:(0,a.jsxs)("div",{className:l()("flex flex-col items-stretch gap-10","hashverse"===J&&"sm:p-[20px] lg:p-[40px]"),children:[(0,a.jsxs)("div",{className:"flex flex-col items-stretch gap-6",children:[(0,a.jsx)(o.Z.Header,{title:n.isZero()?"Stake HFT":"Boost XP",showCloseButton:!1,children:(0,a.jsx)(m.Z,{})}),(0,a.jsxs)("div",{className:"flex flex-auto flex-col items-stretch gap-5 text-sm",children:[(0,a.jsx)("div",{className:"flex flex-auto flex-col items-stretch gap-5",children:n.isZero()?(0,a.jsxs)("div",{className:"flex justify-between gap-5",children:[(0,a.jsx)("div",{className:"text-gray-10",children:"Staking"}),(0,a.jsxs)("div",{className:"text-gray-10",children:[(0,F.Bw)((0,F.UK)(D,ex.decimals),C.Df,0)," ","HFT"]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between gap-5",children:[(0,a.jsx)("div",{className:"text-gray-4",children:"Current Stake"}),(0,a.jsxs)("div",{className:"text-gray-10",children:[(0,F.Bw)((0,F.UK)(n,ex.decimals),C.Df,0)," ","HFT"]})]}),D.gt(0)&&(0,a.jsxs)("div",{className:"flex justify-between gap-5",children:[(0,a.jsx)("div",{className:"text-gray-4",children:"Increase Stake by"}),(0,a.jsxs)("div",{className:"text-gray-10",children:[(0,F.Bw)((0,F.UK)(D,ex.decimals),C.Df,0)," ","HFT"]})]}),(0,a.jsxs)("div",{className:"flex justify-between gap-5",children:[(0,a.jsx)("div",{className:"text-gray-10",children:"New Stake"}),(0,a.jsxs)("div",{className:"text-gray-10",children:[(0,F.Bw)((0,F.UK)(n.plus(D),ex.decimals),C.Df,0)," ","HFT"]})]})]})}),(0,a.jsx)("hr",{className:"border-gray-1_5"}),(0,a.jsxs)("div",{className:"flex flex-auto flex-col items-stretch gap-5",children:[!n.isZero()&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between gap-5",children:[(0,a.jsx)("div",{className:"text-gray-4",children:"Current Lock-up Period"}),(0,a.jsx)("div",{className:"text-gray-10",children:(0,Z.mP)(r()(el).unix(),r()(r()(E).isBefore(el)?el:E).unix(),"long")})]}),(0,a.jsxs)("div",{className:"flex justify-between gap-5",children:[(0,a.jsx)("div",{className:"text-gray-4",children:"Increase Lock-up by"}),(0,a.jsxs)("div",{className:"text-gray-10",children:[P," days"]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between gap-5",children:[(0,a.jsx)("div",{className:"text-gray-10",children:n.isZero()?"Lock-up Period":"New Lock-up Period"}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,a.jsx)("div",{className:"text-gray-10",children:(0,Z.mP)(r()(el).unix(),r()(r()(E).isBefore(el)?el:E).add(P,"days").unix(),"long")}),(0,a.jsx)("div",{className:"text-2xs text-gray-4",children:r()(r()(E).isBefore(el)?el:E).add(P,"days").format("MMMM D, YYYY")})]})]})]}),(0,a.jsx)("hr",{className:"border-gray-1_5"}),(0,a.jsx)("div",{className:"flex flex-auto flex-col items-stretch gap-5",children:(0,a.jsxs)("div",{className:"flex justify-between gap-5",children:[(0,a.jsx)("div",{className:"text-gray-4",children:"Estimated APR"}),(0,a.jsx)("div",{className:"text-gray-10",children:(0,F.T3)(ed,2)})]})})]}),(0,a.jsx)("div",{className:"flex flex-auto flex-col items-stretch gap-5 rounded-lg border border-gray-1_5 p-4",children:(0,a.jsxs)("div",{className:"flex justify-between gap-5",children:[(0,a.jsxs)("div",{className:"flex gap-1 text-gray-4",children:[(0,a.jsx)("div",{className:"font-regular font-orbitron text-[11px] leading-[20px] text-blue-5 dark:text-yellow-10",children:n.isZero()?"Hashverse Power Level":"Hashverse XP Boost"}),(0,a.jsx)("div",{className:"self-center",children:(0,a.jsx)(x.B,{placement:"bottom-start",children:"This boost will increase your XP earned in the Hashverse."})})]}),(0,a.jsx)("div",{className:"font-orbitron text-gray-10",children:"".concat((0,M.kJ)(eo).plus(1).toFixed(2)," x")})]})})]}),(0,a.jsxs)("div",{className:"flex flex-col items-stretch gap-6",children:[(0,a.jsxs)("div",{className:"text-2xs text-gray-4",children:[(0,F.Bw)((0,F.UK)(n.plus(D),ex.decimals),C.Df,0)," ","HFT will be staked to the Hashverse. Your staked HFT cannot be unstaked until"," ",r()(r()(E).isBefore(el)?el:E).add(P,"days").format("MMMM D, YYYY"),". By selecting “Confirm”, you are agreeing to the"," ",(0,a.jsx)(d.Z,{href:"https://www.hashflow.com/terms",children:"terms for HFT staking"}),"."]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(c.Z,{style:"hashverse"===J?"hashverse-modal-secondary":"secondary",onClick:i,children:"Back"})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(c.Z,{style:"hashverse"===J?"hashverse-modal-primary":"primary",onClick:()=>{if(Y){if(er){if("evm"!==Y.chain.chainType)throw Error("Hashverse staking is only supported on EVM chains.")}else throw Error("Cannot submit without a native token.")}else throw Error("Cannot submit without a wallet.");(0,H.v)(Y.chain);let e=z(b.l,(0,b.Z)({currentHftStaked:n,currentStakeExpiration:E,nativeToken:er,additionalHFTStaked:D,additionalLockPeriodDays:P,gasPriceOptions:(0,B.$A)(W,X),wallet:Y.wallet,leaseProvider:ea,addTransactionHistoryEntry:et,updateTransactionHistoryEntry:es,showToast:ee,balances:Q,abortSignal:G.current.signal,refetchBalances:$,getServerDate:ei,onSuccess:q}));A(e)},children:"Confirm"})})]})]})]})}),V&&(0,a.jsx)(N.Z,{transactionId:V,onRequestClose:s,initialViewMode:"status"})]})})},64562:function(e,t,s){s.d(t,{Z:function(){return O}});var a,i=s(52322),l=s(84986),n=s(95376),r=s(45676),c=s(19783),d=s(4236),o=s(14196),x=s(32653),h=s(99938),u=s(2784),f=["title","titleId"];function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}var v=function(e){var t=e.title,s=e.titleId,i=function(e,t){if(null==e)return{};var s,a,i=function(e,t){if(null==e)return{};var s,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)s=l[a],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)s=l[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}(e,f);return u.createElement("svg",m({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":s},i),t?u.createElement("title",{id:s},t):null,a||(a=u.createElement("path",{d:"M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2M10 11v6M14 11v6",stroke:"#fff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},g=s(33838),y=s(66743),j=(0,y.Z)(function(e){let{isOpen:t,onRequestClose:s,onSubmit:a}=e;return(0,i.jsx)(n.Z,{isOpen:t,onRequestClose:s,animationTheme:"fade",children:(0,i.jsxs)("div",{className:"flex flex-col items-stretch gap-6",children:[(0,i.jsxs)("div",{className:"flex w-full flex-col items-center gap-5 px-5 py-10",children:[(0,i.jsxs)("div",{className:"flex w-full flex-col items-center gap-2",children:[(0,i.jsx)(g.Z,{type:"severe-alert",size:56}),(0,i.jsx)("div",{className:"text-center font-orbitron text-lg",children:"Are you sure you want to unstake all your HFTs?"}),(0,i.jsx)("div",{className:"text-center text-sm text-gray-4",children:"By unstaking all your HFTs from the Hashverse you will:"})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("div",{className:"flex h-10 w-10 flex-none items-center justify-center rounded-full bg-red-5",children:(0,i.jsx)(v,{width:24,height:24})}),(0,i.jsx)("div",{className:"text-sm text-gray-10",children:"Delete your hashverse profile"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("div",{className:"flex h-10 w-10 flex-none items-center justify-center rounded-full bg-red-5",children:(0,i.jsx)(v,{width:24,height:24})}),(0,i.jsx)("div",{className:"text-sm text-gray-10",children:"Delete all quest progress"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("div",{className:"flex h-10 w-10 flex-none items-center justify-center rounded-full bg-red-5",children:(0,i.jsx)(v,{width:24,height:24})}),(0,i.jsx)("div",{className:"text-sm text-gray-10",children:"Delete all the items you collected"})]})]})]}),(0,i.jsxs)("div",{className:"flex gap-4",children:[(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsx)(l.Z,{style:"secondary",onClick:s,size:"header",children:"Cancel"})}),(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsx)(l.Z,{style:"destructive",onClick:a,size:"header",children:"Unstake All"})})]})]})})}),p=s(75763),w=s(64601),N=s(83051),b=s(92193),k=s(136),Z=s(82976),B=s(35395),S=s(70537),C=s(5213),T=s(49073),H=s(6797),E=s(50480),F=s(9779),M=s(27502),O=(0,y.Z)(function(e){let{isOpen:t,onRequestClose:s,hftStaked:a,stakeExpiration:f}=e,[m,v]=(0,u.useState)(),g=(0,B.pf)(m),{currentWallet:y}=(0,d.OZ)(),{startTask:O}=(0,r.HJ)(),I=(0,H.Z)([y]),{selectedGasPrice:U,isEip1559:D}=(0,x.J)(),{balances:P,refetchBalances:_}=(0,c.ln)(),{showToast:K}=(0,N.tF)(),{addTransactionHistoryEntry:L,updateTransactionHistoryEntry:q}=(0,k.h)(),{leaseProvider:J}=(0,w.R)(),R=(0,p.C)(),{getNativeTokenChain:A}=(0,b.rU)(),V=y?A(y.chain):void 0,Y=y&&(0,M.Kk)(y.chain)?F.y:F.J,{amount:z,setAmount:G}=(0,C.Z)(Y,""),[W,X]=(0,u.useState)(),[Q,$]=(0,u.useState)(!1),ee=()=>{let e=!0;return z.bigNumber.isZero()?(e=!1,X("Enter amount.")):z.bigNumber.isGreaterThan(a)&&(e=!1,X("Insufficient balance.")),e},et=()=>{if(y){if(V){if("evm"!==y.chain.chainType)throw Error("Cannot submit without a lease provider.")}else throw Error("Cannot submit without a native token.")}else throw Error("Cannot submit without a wallet.");(0,E.v)(y.chain);let e=O(S.t,(0,S.Z)({currentHftStaked:a,currentStakeExpiration:f,nativeToken:V,amount:z.bigNumber,gasPriceOptions:(0,T.$A)(U,D),wallet:y.wallet,leaseProvider:J,addTransactionHistoryEntry:L,updateTransactionHistoryEntry:q,showToast:K,balances:P,abortSignal:I.current.signal,refetchBalances:_,getServerDate:R}));v(e)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.Z,{isOpen:t,onRequestClose:s,animationTheme:"fade",children:(0,i.jsxs)("div",{className:"flex flex-col items-stretch gap-6",children:[(0,i.jsx)(n.Z.Header,{title:"Unstake HFT",showCloseButton:!1,children:(0,i.jsx)(o.Z,{})}),(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,i.jsx)("div",{className:"flex items-end justify-between gap-3",children:"Unstake Amount"}),(0,i.jsx)(h.Z,{value:z.string,onChange:e=>{X(void 0),G(e)},balance:a,balanceLabel:"Total Staked",onSetMaxBalance:()=>{X(void 0),G(a)},error:W})]}),(0,i.jsxs)("div",{className:"flex gap-4",children:[(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsx)(l.Z,{style:"secondary",onClick:s,size:"header",children:"Close"})}),(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsx)(l.Z,{style:"primary",onClick:()=>{ee()&&(z.bigNumber.eq(a)?$(!0):et())},size:"header",children:"Unstake"})})]})]})}),g&&(0,i.jsx)(Z.Z,{transactionId:g,onRequestClose:s,initialViewMode:"status"}),(0,i.jsx)(j,{isOpen:Q,onRequestClose:s,onSubmit:et})]})})},22686:function(e,t,s){s.d(t,{Z:function(){return N},l:function(){return w}});var a=s(28879),i=s.n(a),l=s(58540),n=s(88740),r=s(92115),c=s(85156),d=s(49073),o=s(32369),x=s(68287),h=s(72744),u=s(72160),f=s(38571),m=s(48935),v=s(88727),g=s(9779),y=s(27502),j=s(16067),p=s(37164);let w="stake-hft";async function*N(e){let{currentHftStaked:t,currentStakeExpiration:s,nativeToken:a,additionalHFTStaked:w,additionalLockPeriodDays:N,gasPriceOptions:b,wallet:k,leaseProvider:Z,addTransactionHistoryEntry:B,updateTransactionHistoryEntry:S,showToast:C,balances:T,abortSignal:H,refetchBalances:E,getServerDate:F,onSuccess:M}=e;try{var O;let e=(0,y.mC)(k.networkId)?g.y:g.J,x={transactionId:(0,p.x0)(),wallet:k.address,chain:e.chain,stage:"initial"};yield x;let{stakingVault:I}=k.hashflow.contracts;if(!I)throw Error("Staking vault contract is not available.");let U=(0,r.Z)(k.abortSignal,H);(0,c.k)(U);let D=m.xE;if(b){let e=(0,m.UV)(await I.boostHFTStake.estimateGas(w.toFixed(),N));D=(0,d.Ld)(b,e)}(0,c.k)(U);let P=null!==(O=T[(0,j.Bf)(a)])&&void 0!==O?O:m.xE;if(P.isLessThan(D))throw new h.gr(a,P,D);let _=await I.boostHFTStake(w.toFixed(),N),K=_.hash;(0,c.k)(U);let L=B({type:"stake-hft",chain:e.chain,address:k.address,additionalHFTStaked:w.toFixed(),additionalLockPeriodDays:N,transactionHash:null!=K?K:"",createdAt:i()(F()).unix(),status:"Pending",transactionId:x.transactionId});x={...x,transactionHash:K,historyEntryId:L,stage:"submitted"},(0,c.k)(U);let q=await (0,n.q)(e.chain,K,Z,H);return S(L,{status:q.status}),(0,n._)({status:q.status,toastTitle:"Staking ".concat((0,v.Bw)((0,v.UK)(w,e.decimals),f.Df)," ").concat(e.name," failed"),showToast:C}),await (0,o.r)({wallet:k.address,abortSignal:U,currentHftStaked:t,currentStakeExpiration:s,isTestnet:!(0,y.mC)(k.networkId)}),C({type:l.KN,title:"Staked ".concat((0,v.Bw)((0,v.UK)(w,e.decimals),f.Df)," ").concat(e.name),status:"success"}),u.E.invalidateQueries(["hashverse-profile",k.address]),E(),M(),{...x,stage:"confirmed"}}catch(e){throw(0,x.SC)(e)}}},70537:function(e,t,s){s.d(t,{Z:function(){return N},t:function(){return w}});var a=s(28879),i=s.n(a),l=s(58540),n=s(88740),r=s(92115),c=s(85156),d=s(49073),o=s(32369),x=s(68287),h=s(72744),u=s(72160),f=s(38571),m=s(48935),v=s(88727),g=s(9779),y=s(27502),j=s(16067),p=s(37164);let w="unstake-hft";async function*N(e){let{currentHftStaked:t,currentStakeExpiration:s,nativeToken:a,amount:w,gasPriceOptions:N,wallet:b,leaseProvider:k,addTransactionHistoryEntry:Z,updateTransactionHistoryEntry:B,showToast:S,balances:C,abortSignal:T,refetchBalances:H,getServerDate:E}=e;try{var F;let e=(0,y.mC)(b.networkId)?g.y:g.J,x={transactionId:(0,p.x0)(),wallet:b.address,chain:e.chain,stage:"initial"};yield x;let{stakingVault:M}=b.hashflow.contracts;if(!M)throw Error("Staking vault contract is not available.");let O=(0,r.Z)(b.abortSignal,T);(0,c.k)(O);let I=m.xE;if(N){let e=(0,m.UV)(await M.withdrawHFT.estimateGas(m.xE.toFixed(),m.xE.toFixed()));I=(0,d.Ld)(N,e)}(0,c.k)(O);let U=null!==(F=C[(0,j.Bf)(a)])&&void 0!==F?F:m.xE;if(U.isLessThan(I))throw new h.gr(a,U,I);let D=await M.withdrawHFT(m.xE.toFixed(),m.xE.toFixed()),P=D.hash;(0,c.k)(O);let _=Z({type:"unstake-hft",chain:e.chain,address:b.address,amount:w.toString(),transactionHash:null!=P?P:"",createdAt:i()(E()).unix(),status:"Pending",transactionId:x.transactionId});x={...x,transactionHash:P,historyEntryId:_,stage:"submitted"},(0,c.k)(O);let K=await (0,n.q)(e.chain,P,k,T);return B(_,{status:K.status}),(0,n._)({status:K.status,toastTitle:"Unstaking ".concat((0,v.Bw)((0,v.UK)(w,e.decimals),f.Df)," ").concat(e.name," failed"),showToast:S}),await (0,o.r)({wallet:b.address,abortSignal:O,currentHftStaked:t,currentStakeExpiration:s,isTestnet:!(0,y.mC)(b.networkId)}),S({type:l.KN,title:"Unstaked ".concat((0,v.Bw)((0,v.UK)(w,e.decimals),f.Df)," ").concat(e.name),status:"success"}),u.E.invalidateQueries(["hashverse-profile",b.address]),H(),{...x,stage:"confirmed"}}catch(e){throw(0,x.SC)(e)}}},47576:function(e,t,s){s.d(t,{Z:function(){return n}});var a=s(28879),i=s.n(a),l=s(93663);function n(e){if(e.hftStaked.eq(0))return .1;let t=Math.floor(Math.max(e.stakeExpiration.getTime()-i()().toDate().getTime(),0)/1e3),s=e.hftStaked.multipliedBy(t).dividedBy(l.CB).multipliedBy(e.hasNFTBoost?1.1:1).integerValue(),a=s.dividedBy(s.plus(e.totalStakedPower)).multipliedBy(e.dailyHftAward),n=a.multipliedBy(365);return n.dividedBy(e.hftStaked).decimalPlaces(4).toNumber()}},93663:function(e,t,s){s.d(t,{CB:function(){return i},SN:function(){return l},kJ:function(){return n}});var a=s(72558);let i=126144e3;function l(e){let{hftStaked:t,now:s=Date.now(),stakeExpirationTimestampMs:a,hasNFTBoost:l}=e;return t.multipliedBy(a>s?Math.floor((a-s)/1e3):0).dividedBy(i).multipliedBy(l?1.1:1).integerValue()}function n(e){let t=(e,t,s)=>new a.Z(t[1]-t[0]).multipliedBy(s.minus(e[0])).dividedBy(e[1]-e[0]).plus(t[0]),s=e.dividedBy(new a.Z(10).pow(18));if(s.lt(1))return new a.Z(0);if(s.lte(100))return t([1,100],[.05,.1],s);if(s.lte(1e3))return t([100,1e3],[.1,.3],s);if(s.lte(1e4))return t([1e3,1e4],[.3,.5],s);if(s.lte(1e5))return t([1e4,1e5],[.5,1],s);if(s.lte(25e4))return t([1e5,25e4],[1,1.5],s);if(s.lte(5e5))return t([25e4,5e5],[1.5,1.75],s);else if(s.lte(1e6))return t([5e5,1e6],[1.75,2],s);else return new a.Z(2)}new a.Z(2e3).multipliedBy(new a.Z(10).pow(18))}}]);