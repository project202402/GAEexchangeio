(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{76027:function(e,t,n){"use strict";var s,l=n(2784),a=["title","titleId"];function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}t.Z=function(e){var t=e.title,n=e.titleId,i=function(e,t){if(null==e)return{};var n,s,l=function(e,t){if(null==e)return{};var n,s,l={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,a);return l.createElement("svg",r({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},i),t?l.createElement("title",{id:n},t):null,s||(s=l.createElement("path",{d:"M20 6 9 17l-5-5",stroke:"current",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}},87314:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(21291)}])},68650:function(e,t,n){"use strict";n.d(t,{DM:function(){return u},He:function(){return h},aV:function(){return x}});var s=n(12684),l=n(4236),a=n(92193),r=n(6797),i=n(94180),c=n(16067),o=n(2784);let d={set:3e4,setting:2e3,revoking:2e3,increasing:2e3};function u(e,t){var n;let{fetchAllowanceStatus:u,allowances:x}=(0,s.YT)(),{currentWallet:h}=(0,l.OZ)(),{getNativeTokenChain:m}=(0,a.rU)(),f=h?m(h.chain):void 0,p=x.find(n=>(0,c.RZ)(n.token,e)&&n.contract===t),v=(0,r.Z)();(0,i.Y)((0,o.useCallback)(()=>{v.current.abort(),v.current=new AbortController,f&&!(0,c.RZ)(e,f)&&t&&u(e,t,v.current.signal)},[v,e,t,f,u]),d[null!==(n=null==p?void 0:p.status)&&void 0!==n?n:"set"])}function x(e){let{token:t,contract:n}=e;return u(t,n),null}function h(e){let{token:t,contractsWithType:n,currentContract:u}=e;return!function(e,t,n){var u;let{fetchAllowanceStatus:x,allowances:h}=(0,s.YT)(),{currentWallet:m}=(0,l.OZ)(),{getNativeTokenChain:f}=(0,a.rU)(),p=m?f(m.chain):void 0,v=(0,r.Z)(),g=h.find(t=>(0,c.RZ)(t.token,e)&&t.contract===n);(0,i.Y)((0,o.useCallback)(()=>{v.current.abort(),v.current=new AbortController,p&&!(0,c.RZ)(e,p)&&t&&t&&n&&t.forEach(t=>{x(e,n,v.current.signal,t).catch(()=>{})})},[v,p,e,t,n]),d[null!==(u=null==g?void 0:g.status)&&void 0!==u?u:"set"])}(t,n,u),null}},68007:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var s=n(52322),l=n(72779),a=n.n(l),r=n(14349),i=n(60862),c=n(39807),o=n(73108),d=n(35631),u=n(43383),x=n(53952),h=n(98174);function m(e){let{children:t,layoutClassName:n,includeSwitchNetworkHeader:l}=e;return(0,s.jsx)(i.U,{highlightColor:"blue",children:(0,s.jsx)(x.u,{children:(0,s.jsx)(d.S,{children:(0,s.jsx)(c.Z,{className:(0,h.m)(n),header:(0,s.jsxs)("div",{className:a()("z-10 lg:border-transparent lg:bg-transparent","sticky top-0 w-screen lg:static","border-b border-gray-0_5 bg-gray-0"),id:"content-body",children:[(0,s.jsx)(r.Z,{}),(0,s.jsx)(o.Z,{includeSwitchNetworkHeader:l})]}),footer:(0,s.jsx)(u.Z,{}),children:t})})})})}},10212:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(52322),l=n(83328),a=n(61214),r=n(27502);function i(e){let{chains:t,selectedChain:n,onSelect:i,defaultLabel:c="Select a Network"}=e;return(0,s.jsx)(l.Z,{label:n?(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(a.Z,{chain:n,size:24}),(0,s.jsx)("div",{className:"whitespace-nowrap text-md",children:(0,r.tG)(n).label})]}):c,className:"min-h-[52px]",children:r.AK.filter(e=>[...t].find(t=>(0,r.O8)(t,e))).map(e=>(0,s.jsx)(l.Z.Item,{onClick:()=>i(e),children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(a.Z,{chain:e,size:24}),(0,s.jsx)("div",{className:"whitespace-nowrap text-md",children:(0,r.tG)(e).label})]})},"NetworkMenu-".concat((0,r.WX)(e))))})}},93597:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(52322),l=n(83328),a=n(89254),r=n(61214),i=n(27502),c=n(2784);function o(e){let{chains:t,selectedChain:n,onSelect:o,defaultLabel:d="Select a Network"}=e,[u,x]=(0,c.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z.Button,{onClick:()=>x(!0),children:n?(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(r.Z,{chain:n,size:24}),(0,s.jsx)("div",{className:"whitespace-nowrap text-md",children:(0,i.tG)(n).label})]}):d}),(0,s.jsx)(a.Z,{isOpen:u,onRequestBack:()=>x(!1),onSelectNetwork:e=>{o(e),x(!1)},selectedNetwork:n,enabledNetworks:t})]})}},9631:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var s=n(52322),l=n(97729),a=n.n(l);function r(e){let{children:t}=e;return(0,s.jsx)(a(),{children:(0,s.jsx)("title",{children:"".concat(t," | Hashflow - The New Standard in DeFi Trading")},"title")})}},44782:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var s=n(52322),l=n(4236),a=n(84986),r=n(43740),i=n(95376),c=n(55847),o=n(10212),d=n(93597),u=n(33838),x=n(14917),h=n(42813),m=n(54566),f=n(47251),p=n(66743),v=n(2784),g=(0,p.Z)(function(e){let{isOpen:t,onRequestClose:n,allowClose:p,forcedSupportedChains:g,customMessage:y}=e,{availableChains:j,disconnect:w,switchNetwork:b}=(0,l.OZ)(),{featureAccess:N}=(0,x.r)(),k=(0,h.$3)(),C=(0,f.U)(j,{showSolana:N.solana,showTestnets:(0,m.Mp)()}),T=(0,c.Gc)(),[O,S]=(0,v.useState)(),Z=async()=>{await w(),n()};return(0,s.jsx)(i.Z,{isOpen:t,onRequestClose:n,allowClose:p,pageTheme:"exchange-v2",children:(0,s.jsxs)("div",{className:"flex flex-col items-stretch",children:[(0,s.jsx)("div",{className:"min-h-[12px]",children:(0,s.jsx)(i.Z.Header,{showCloseButton:p,closeButtonType:"square"})}),(0,s.jsx)("div",{className:"-mt-9 flex flex-1 flex-col items-stretch lg:mt-0",children:(0,s.jsxs)("div",{className:"flex flex-1 flex-col items-stretch gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-auto flex-col items-stretch justify-center gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsx)(u.Z,{type:"soft-alert",size:50}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)(r.Z,{align:"center",children:"Unsupported Network"}),(0,s.jsx)("div",{className:"text-center text-md text-gray-4",children:null!=y?y:C.length>0?"Choose a supported network to use Hashflow.":"Your wallet is connected to an unsupported network."})]})]}),"large"===T?(0,s.jsx)(o.Z,{chains:C,selectedChain:O,onSelect:S}):(0,s.jsx)(d.Z,{chains:null!=g?g:C,selectedChain:O,onSelect:S})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[C.length>1&&(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(a.Z,{onClick:async()=>{O&&(await b(O,k),n())},disabled:null===O,size:"unset",className:"rounded p-[12px] text-[14px] leading-[16px]",children:"Connect"})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(a.Z,{style:C.length>1?"transparent":"secondary",onClick:Z,size:"unset",className:"rounded p-[12px] text-[14px] leading-[16px]",children:"Disconnect Wallet"})})]})]})})]})})}),y=n(26461),j=n(5464);function w(e){let{allowClose:t=!1}=e,{error:n}=(0,y.Os)(),{currentWallet:a}=(0,l.OZ)(),[r,i]=(0,v.useState)(!1),c=((null==a?void 0:a.chain.chainType)==="evm"||!a)&&(n instanceof y.Uu||n instanceof j.H_);return r!==c&&i(c),(0,s.jsx)(g,{isOpen:!!r,onRequestClose:()=>i(!1),allowClose:t})}},25467:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var s=n(52322),l=n(98174);function a(e){let{children:t,className:n}=e;return(0,s.jsx)("div",{className:(0,l.m)("rounded-2xl border border-solid border-gray-1 bg-gray-0_25 p-5","border-gray-0_75 shadow-[0px_4px_12px_rgb(0_0_0_/_0.05)] dark:shadow-none",n),children:t})}},90693:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var s=n(52322);function l(e){let{onChange:t,id:n,placeholder:l,value:a,validation:r,disabled:i,type:c="text",min:o,max:d,step:u="any",className:x,maxLength:h,readOnly:m,innerRef:f}=e;return(0,s.jsx)("input",{readOnly:m,ref:f,id:n,type:c,min:o,max:d,step:u,className:x,placeholder:l,onChange:e=>{if(t){if("number"===r){let n=e.target.value.trim(),s=Number(n.replace(/,/g,""));"."===n?t("0."):""!==n&&isNaN(s)||t(n)}else t(e.target.value)}},value:a,disabled:i,maxLength:h})}},7336:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var s=n(52322),l=n(84986),a=n(2784);function r(e){let{children:t,testId:n,...r}=e,i=a.Children.map(t,e=>e.props),c=i.find(e=>{let t=Object.prototype.hasOwnProperty.call(e,"test");return!t||("function"==typeof e.test?!!e.test():!!e.test)});if(!c)return null;let o={...c};return delete o.test,(0,s.jsx)(l.Z,{testId:n,...r,...o,children:c.children})}r.Condition=function(e){return null}},5213:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var s=n(72558),l=n(38571),a=n(2784);function r(e,t){if(e instanceof s.Z){let n=e.dividedBy(new s.Z(10).pow(t.decimals));return{bigNumber:e,string:(n.gt(1)?n.decimalPlaces(l.Df):n.precision(5)).toFormat()}}{let n=String(e);return{bigNumber:new s.Z(n.trim()||0).multipliedBy(new s.Z(10).pow(t.decimals)),string:n}}}function i(e,t){switch(t.type){case"reset":return{token:t.token,amount:r(t.amount,t.token)};case"set-token":return{token:t.token,amount:r(e.amount.string,t.token)};case"set-amount":return{...e,amount:r(t.amount,e.token)}}}function c(e,t){let[n,s]=(0,a.useReducer)(i,{token:e,amount:r(t,e)});return(0,a.useMemo)(()=>({...n,setToken:e=>{s({type:"set-token",token:e})},setAmount:e=>{s({type:"set-amount",amount:e})},reset:(e,t)=>s({type:"reset",token:e,amount:t})}),[n])}},94630:function(e,t,n){"use strict";n.d(t,{CH:function(){return d},JY:function(){return o},Ok:function(){return c},P5:function(){return i},k7:function(){return r}});var s=n(4466),l=n(16067),a=n(49873);async function r(e,t){if(!e)return!1;{let n=e.hashflow.token.getToken(t.address.toString());return n.increaseAllowance.estimateGas(s.contractAddressesByNetwork.router[(0,a.Bd)(t.chain.chainId).name].address,1e5)}}function i(e,t,n,s){if((0,l.RZ)(n,s)||"solana"===n.chain.chainType)return!1;let a=e.find(e=>(0,l.RZ)(e.token,n)&&e.contract===t);return!!((null==a?void 0:a.status)!=="set"||a.limit.isZero())}function c(e,t,n,s,a){if((0,l.RZ)(n,s)||"solana"===n.chain.chainType)return!1;let r=e.find(e=>(0,l.RZ)(e.token,n)&&e.contract===t);if(!r)return!1;let i=Array.isArray(a)?a:[a];return!!i.includes(r.status)}function o(e,t,n,s){if((0,l.RZ)(n,s)||"solana"===n.chain.chainType)return!1;let a=e.find(e=>(0,l.RZ)(e.token,n)&&e.contract.toLowerCase()===t.toLowerCase());return!a}function d(e,t,n,s,a){if((0,l.RZ)(n,a)||"solana"===n.chain.chainType)return!1;let r=e.find(e=>(0,l.RZ)(e.token,n)&&e.contract===t),i=(null==r?void 0:r.status)==="set"?r.limit:void 0;return!(!i||i.isZero()||i.isGreaterThanOrEqualTo(s))}},21291:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return nQ}});var s,l,a,r,i,c,o,d,u,x,h,m,f,p,v,g,y,j,w=n(52322),b=n(16091),N=n(72779),k=n.n(N),C=n(2784),T=["title","titleId"];function O(){return(O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var S=function(e){var t=e.title,n=e.titleId,l=function(e,t){if(null==e)return{};var n,s,l=function(e,t){if(null==e)return{};var n,s,l={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,T);return C.createElement("svg",O({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},l),t?C.createElement("title",{id:n},t):null,s||(s=C.createElement("path",{d:"M9 10V5M6 10V2M3 10V7",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))},Z=["title","titleId"];function E(){return(E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var M=function(e){var t=e.title,n=e.titleId,s=function(e,t){if(null==e)return{};var n,s,l=function(e,t){if(null==e)return{};var n,s,l={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,Z);return C.createElement("svg",E({width:7,height:10,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?C.createElement("title",{id:n},t):null,l||(l=C.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.074 1.91 1.56.405a.26.26 0 0 1 .373.006l1.485 1.503c.17.167.053.46-.187.46h-.952v3.248c0 .298-.24.54-.533.54a.538.538 0 0 1-.532-.54V2.37H.26a.27.27 0 0 1-.186-.46Zm4.989 7.682L3.578 8.09a.268.268 0 0 1 .186-.46h.953V4.381c0-.297.24-.54.532-.54.293 0 .532.243.532.54V7.63h.959a.27.27 0 0 1 .186.46L5.44 9.592a.27.27 0 0 1-.378 0Z",fill:"currentColor"})))},A=n(25467),I=n(40047),R=n(55847),_=n(49524),L=n(8225),P=n(75269),F=n(40770),B=n(77992),U=n(50861),V=n(68007),H=n(4466),D=n(72558),W=n(76875),z=["title","titleId"];function G(){return(G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var q=function(e){var t=e.title,n=e.titleId,s=function(e,t){if(null==e)return{};var n,s,l=function(e,t){if(null==e)return{};var n,s,l={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,z);return C.createElement("svg",G({viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?C.createElement("title",{id:n},t):null,a||(a=C.createElement("path",{d:"M8 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"})),r||(r=C.createElement("path",{d:"M12.933 10a1.1 1.1 0 0 0 .22 1.213l.04.04a1.333 1.333 0 1 1-1.886 1.887l-.04-.04a1.1 1.1 0 0 0-1.214-.22 1.1 1.1 0 0 0-.666 1.007V14a1.333 1.333 0 0 1-2.667 0v-.06A1.1 1.1 0 0 0 6 12.933a1.1 1.1 0 0 0-1.213.22l-.04.04A1.333 1.333 0 0 1 2.57 11.74c.067-.162.165-.309.29-.432l.04-.04a1.1 1.1 0 0 0 .22-1.214 1.1 1.1 0 0 0-1.008-.666H2A1.333 1.333 0 0 1 2 6.72h.06A1.1 1.1 0 0 0 3.067 6a1.1 1.1 0 0 0-.22-1.213l-.04-.04A1.333 1.333 0 1 1 4.693 2.86l.04.04a1.1 1.1 0 0 0 1.214.22H6a1.1 1.1 0 0 0 .667-1.007V2a1.333 1.333 0 1 1 2.666 0v.06A1.1 1.1 0 0 0 10 3.067a1.1 1.1 0 0 0 1.213-.22l.04-.04a1.333 1.333 0 1 1 1.887 1.886l-.04.04a1.1 1.1 0 0 0-.22 1.214V6a1.1 1.1 0 0 0 1.007.667H14a1.333 1.333 0 0 1 0 2.666h-.06a1.1 1.1 0 0 0-1.007.667Z"})))},X=n(54980),Y=["title","titleId"];function K(){return(K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var $=function(e){var t=e.title,n=e.titleId,s=function(e,t){if(null==e)return{};var n,s,l=function(e,t){if(null==e)return{};var n,s,l={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,Y);return C.createElement("svg",K({width:28,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?C.createElement("title",{id:n},t):null,i||(i=C.createElement("rect",{x:.5,y:.5,width:27,height:27,rx:3.5,fill:"#1F2229"})),c||(c=C.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m9.948 10.03 1.908-1.932a.333.333 0 0 1 .479.007l1.908 1.931a.345.345 0 0 1-.24.59H12.78v4.175a.691.691 0 0 1-.684.695.691.691 0 0 1-.683-.695V10.62h-1.225a.346.346 0 0 1-.239-.59Zm6.41 9.871L14.45 17.97a.344.344 0 0 1 .24-.59h1.224v-4.175c0-.382.307-.695.684-.695.376 0 .683.313.683.695v4.175h1.231c.301 0 .459.375.24.59l-1.908 1.931a.347.347 0 0 1-.486 0Z",fill:"#96A2B4"})),o||(o=C.createElement("rect",{x:.5,y:.5,width:27,height:27,rx:3.5,stroke:"currentColor"})))},J=["title","titleId"];function Q(){return(Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var ee=function(e){var t=e.title,n=e.titleId,s=function(e,t){if(null==e)return{};var n,s,l=function(e,t){if(null==e)return{};var n,s,l={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,J);return C.createElement("svg",Q({width:28,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?C.createElement("title",{id:n},t):null,d||(d=C.createElement("rect",{x:.5,y:.5,width:27,height:27,rx:3.5,fill:"#fff"})),u||(u=C.createElement("rect",{x:.5,y:.5,width:27,height:27,rx:3.5,stroke:"currentColor"})),x||(x=C.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m9.95 10.03 1.908-1.932a.333.333 0 0 1 .479.007l1.908 1.931a.345.345 0 0 1-.24.59h-1.224v4.175a.691.691 0 0 1-.684.695.691.691 0 0 1-.684-.695V10.62H10.19a.346.346 0 0 1-.24-.59Zm6.41 9.871-1.908-1.931a.344.344 0 0 1 .24-.59h1.223v-4.175c0-.382.308-.695.684-.695.376 0 .684.313.684.695v4.175h1.231c.301 0 .458.375.24.59l-1.909 1.931a.347.347 0 0 1-.485 0Z",fill:"#4E5D73"})))},et=n(68650),en=n(84986),es=n(81227),el=n(19783),ea=n(4236),er=n(37614),ei=n(48793),ec=n(61910),eo=n(48278),ed=n(45203),eu=["title","titleId"];function ex(){return(ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var eh=function(e){var t=e.title,n=e.titleId,s=function(e,t){if(null==e)return{};var n,s,l=function(e,t){if(null==e)return{};var n,s,l={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,eu);return C.createElement("svg",ex({width:28,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?C.createElement("title",{id:n},t):null,h||(h=C.createElement("path",{d:"M10.006 9.334a.889.889 0 0 0-.889.889v8a.443.443 0 0 0-.45.444.445.445 0 0 0 .45.445h6.223a.446.446 0 0 0 .416-.616.443.443 0 0 0-.416-.273v-1.778h1.333v1.111c0 .854.702 1.556 1.556 1.556a.447.447 0 0 0 .16-.033c.776-.085 1.395-.726 1.395-1.523v-3.778a.444.444 0 0 0-.13-.314l-1.778-1.778a.435.435 0 0 0-.068-.055l-1.333-.889a.444.444 0 1 0-.493.74l1.136.757v1.095c0 .491.397.889.888.889h.89v3.333a.66.66 0 0 1-.667.667.66.66 0 0 1-.667-.667v-1.11a.896.896 0 0 0-.889-.89H15.34v-5.333a.889.889 0 0 0-.89-.889h-4.444Zm0 .889h4.445v2.666h-4.445v-2.666Z",fill:"#96A2B4"})),m||(m=C.createElement("rect",{x:.5,y:.5,width:27,height:27,rx:3.5,stroke:"currentColor"})))},em=n(49379),ef=n(21386),ep=n(20973),ev=n(12684),eg=n(95376),ey=n(45676),ej=n(86823),ew=n(32653),eb=n(28065),eN=n(53952),ek=n(83051),eC=n(64568),eT=n(92193),eO=n(97954),eS=n(4697),eZ=n(50480),eE=n(27502),eM=n(96577),eA=n.n(eM),eI=n(3358),eR=n(81611);function e_(e){let{theme:t}=e;return(0,w.jsxs)("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,w.jsx)("circle",{cx:"12.7461",cy:"12",r:"12",fill:"light"===t?"var(--gray_0_5)":"#2F343E"}),(0,w.jsx)("path",{d:"M16.2461 11.5H9.24609C8.69381 11.5 8.24609 11.9477 8.24609 12.5V16C8.24609 16.5523 8.69381 17 9.24609 17H16.2461C16.7984 17 17.2461 16.5523 17.2461 16V12.5C17.2461 11.9477 16.7984 11.5 16.2461 11.5Z",stroke:"light"===t?"var(--gray_4)":"#96A2B4",strokeLinecap:"round",strokeLinejoin:"round"}),(0,w.jsx)("path",{d:"M10.2461 11.5V9.5C10.2461 8.83696 10.5095 8.20107 10.9783 7.73223C11.4472 7.26339 12.0831 7 12.7461 7C13.4091 7 14.045 7.26339 14.5139 7.73223C14.9827 8.20107 15.2461 8.83696 15.2461 9.5V11.5",stroke:"light"===t?"var(--gray_4)":"#96A2B4",strokeLinecap:"round",strokeLinejoin:"round"})]})}function eL(e){let{chain:t,transactionHash:n,onClickBack:s,className:l}=e;return(0,w.jsxs)("div",{className:k()("flex flex-grow flex-col items-center justify-center gap-5 self-stretch pt-5",l),children:[(0,w.jsx)(ej.o2,{chain:t,transactionHash:n}),(0,w.jsx)("div",{className:"flex items-start justify-start gap-2 self-stretch",children:(0,w.jsx)(en.Z,{size:"unset",style:"secondary",onClick:s,className:"rounded p-[12px] text-[14px] leading-[16px]",children:"Close"})})]})}function eP(e){let{onClickBack:t,className:n}=e;return(0,w.jsxs)("div",{className:k()("flex flex-grow flex-col items-center justify-center gap-5 self-stretch pt-5",n),children:[(0,w.jsx)(ej.DD,{}),(0,w.jsx)("div",{className:"flex items-start justify-start gap-2 self-stretch",children:(0,w.jsx)(en.Z,{size:"unset",style:"secondary",onClick:t,className:"rounded p-[12px] text-[14px] leading-[16px]",children:"Close"})})]})}function eF(e){let{chain:t,transactionHash:n,className:s,onClickBack:l}=e,{theme:a}=(0,eN.F)(),{currentWallet:r}=(0,ea.OZ)();return(0,w.jsxs)("div",{className:k()("flex flex-grow flex-col items-center justify-between gap-5 self-stretch pt-[50px]",s),children:[(0,w.jsxs)("div",{className:"relative flex flex-col items-center justify-center gap-[20px] self-stretch",children:[(0,w.jsx)("div",{className:"absolute top-0 h-[50px] w-[50px] rounded-full bg-gray-0_5",children:(0,w.jsx)(eA(),{src:"dark"===a?ep.Z:ef.Z,className:"animate-spin",alt:"Submitting Transaction",width:50,height:50})}),(0,w.jsx)("div",{className:"relative flex h-[50px] w-[50px] items-center justify-center rounded-full ",children:(null==r?void 0:r.identifier)&&(0,w.jsx)(eO.Z,{type:null==r?void 0:r.identifier,size:30})}),(0,w.jsxs)("div",{className:"relative flex flex-col items-center justify-start gap-1.5 self-stretch pl-2",children:[(0,w.jsx)("div",{className:"text-base text-medium w-full self-stretch text-center text-gray-7",children:"Transaction in Progress"}),(0,w.jsxs)(en.b,{size:"unset",style:"link",className:"relative flex items-center justify-center gap-1 self-stretch",href:(0,eE.$b)(t,n),children:[(0,w.jsx)("div",{className:"text-left text-[11px] text-blue-6",children:(0,eS.Z)(n,4,4)}),(0,w.jsx)(em.Z,{className:"text-blue-6",width:12,height:12})]})]})]}),(0,w.jsx)("div",{className:"flex self-stretch",children:(0,w.jsx)(en.Z,{size:"unset",style:"secondary",onClick:l,className:"rounded p-[12px] text-[14px] leading-[16px]",children:"Close"})})]})}function eB(e){let{onClickBack:t,onClickGasOptions:n,onClickSubmit:s,token:l}=e,{gasPrices:a}=(0,ew.J)(),{theme:r}=(0,eN.F)();return(0,w.jsxs)("div",{className:"flex flex-col items-start justify-start",children:[(0,w.jsxs)("div",{className:"flex items-start justify-start gap-2.5 self-stretch",children:[(0,w.jsx)("button",{onClick:t,children:(0,w.jsx)(ed.Z,{className:"text-gray-0_75 hocus:text-gray-2"})}),(0,w.jsx)("div",{className:"relative flex flex-grow items-center justify-start gap-2",children:(0,w.jsx)("div",{className:"flex h-7 w-48 flex-grow items-center justify-center text-center text-sm font-bold text-gray-10",children:"Unlock Token"})}),a?(0,w.jsx)("button",{onClick:n,children:(0,w.jsx)(eh,{className:"text-gray-0_75 hocus:text-gray-2"})}):(0,w.jsx)("div",{className:"w-[28px]"})]}),(0,w.jsxs)("div",{className:"flex flex-grow flex-col items-center justify-center self-stretch",children:[(0,w.jsxs)("div",{className:"relative flex w-[40px] flex-col items-center justify-start pb-[20px] pt-[40px]",children:[(0,w.jsx)(eC.Z,{tokenName:l.name,size:40}),(0,w.jsx)("div",{className:"absolute bottom-[12px] right-[-10px]",children:(0,w.jsx)(e_,{theme:r})})]}),(0,w.jsx)("div",{className:"flex flex-col items-center justify-start self-stretch pb-[40px]",children:(0,w.jsxs)("div",{className:"relative flex flex-col items-start justify-start gap-1 self-stretch",children:[(0,w.jsxs)("div",{className:"w-full self-stretch pb-[4px] text-center text-xs font-bold text-gray-10",children:["Unlock Your ",l.name]}),(0,w.jsxs)("div",{className:"w-full self-stretch text-center text-2xs text-gray-4",children:["In your wallet you need to give the Hashflow smart contracts permissions to use your ",l.name,". You only have to do this once per token."]})]})})]}),(0,w.jsxs)("div",{className:"flex items-start justify-start gap-2 self-stretch",children:[(0,w.jsx)(en.Z,{size:"unset",style:"secondary",onClick:t,className:"rounded p-[12px] text-[14px] leading-[16px]",children:"Cancel"}),(0,w.jsx)(en.Z,{size:"unset",style:"primary",onClick:s,className:"rounded p-[12px] text-[14px] leading-[16px]",children:"Unlock"})]})]})}function eU(e){let{onClickBack:t,onClickGasOptions:n,token:s,contract:l}=e,a=(0,R.Gc)(),{currentWallet:r}=(0,ea.OZ)(),{addAllowance:i}=(0,ev.YT)(),{setShownTransactionPanelStage:c}=(0,ek.tF)(),[o,d]=(0,C.useState)(),u=(0,ey.GS)(o),{status:x,data:h,error:m}=null!=u?u:{},{getNativeTokenChain:f}=(0,eT.rU)(),{title:p,message:v}=(0,eb.T)(null==u?void 0:u.error,f),g=(0,C.useMemo)(()=>({initial:{Component:(0,w.jsx)(eB,{onClickBack:t,onClickGasOptions:n,onClickSubmit:()=>{if(!r)throw Error("Wallet is required!");(0,eZ.v)(r.chain);let e=i(s,l);d(e)},token:s}),ref:(0,C.createRef)()},pending:{Component:(0,w.jsx)(eP,{onClickBack:()=>d(void 0),className:"min-h-[238px]"}),ref:(0,C.createRef)()},submitted:{Component:r?(0,w.jsx)(eF,{transactionHash:null==h?void 0:h.transactionHash,chain:r.chain,onClickBack:()=>d(void 0),className:"min-h-[238px]"}):(0,w.jsx)(w.Fragment,{}),ref:(0,C.createRef)()},completed:{Component:(0,w.jsx)(eL,{chain:s.chain,transactionHash:null==h?void 0:h.transactionHash,onClickBack:()=>{d(void 0),t()},className:"min-h-[238px]"}),ref:(0,C.createRef)()},error:{Component:(0,w.jsx)(ej.kW,{onClickBack:()=>d(void 0),className:"min-h-[238px] pb-0 pt-5",buttonWrapperClassName:"pt-5",title:p,errorMessage:v}),ref:(0,C.createRef)()}}),[t,n,s,null==h?void 0:h.transactionHash,r,i,l,p,v]),y=(0,C.useMemo)(()=>x||m?"pending"===x&&(null==h?void 0:h.stage)==="initial"?"pending":"pending"===x&&(null==h?void 0:h.stage)==="submitted"?"submitted":"success"===x&&(null==h?void 0:h.stage)==="confirmed"?"completed":"error":"initial",[x,m,null==h?void 0:h.stage]);(0,C.useEffect)(()=>(c(y),()=>c(void 0)),[y,c]);let j=g[y],b=(0,w.jsx)(eI.Z,{mode:"out-in",children:(0,w.jsx)(eR.Z,{nodeRef:j.ref,addEndListener:e=>{var t,n;null===(n=j.ref)||void 0===n||null===(t=n.current)||void 0===t||t.addEventListener("transitionend",e,!1)},classNames:"fade",children:(0,w.jsx)("div",{className:"flex w-full flex-1",ref:j.ref,children:j.Component})},y)}),[N,k]=(0,C.useState)(!1);return"large"===a?b:(0,w.jsx)(eg.Z,{isOpen:!N,onRequestClose:()=>{k(!0),t()},animationTheme:"fade",pageTheme:"exchange-v2",children:b})}var eV=n(52420),eH=n(94630);function eD(e){let{onClickBack:t,onClickGasOptions:n,onClickSubmit:s,token:l}=e,{gasPrices:a}=(0,ew.J)();return(0,w.jsxs)("div",{className:"flex flex-col items-start justify-start",children:[(0,w.jsxs)("div",{className:"flex items-start justify-start gap-2.5 self-stretch",children:[(0,w.jsx)("button",{onClick:t,children:(0,w.jsx)(ed.Z,{className:"text-gray-0_75 hocus:text-gray-2"})}),(0,w.jsx)("div",{className:"relative flex flex-grow items-center justify-start gap-2",children:(0,w.jsx)("div",{className:"flex h-7 w-48 flex-grow items-center justify-center text-center text-sm font-bold text-gray-10",children:"Increase Allowance"})}),a?(0,w.jsx)("button",{onClick:n,children:(0,w.jsx)(eh,{className:"text-gray-0_75 hocus:text-gray-2"})}):(0,w.jsx)("div",{className:"w-[28px]"})]}),(0,w.jsxs)("div",{className:"flex flex-grow flex-col items-center justify-center self-stretch",children:[(0,w.jsx)("div",{className:"relative flex w-[40px] flex-col items-center justify-start pb-[20px] pt-[40px]",children:(0,w.jsx)(eC.Z,{tokenName:l.name,size:40})}),(0,w.jsx)("div",{className:"flex flex-col items-center justify-start self-stretch pb-[40px]",children:(0,w.jsxs)("div",{className:"relative flex flex-col items-start justify-start gap-1 self-stretch",children:[(0,w.jsxs)("div",{className:"w-full self-stretch pb-[4px] text-center text-xs font-bold text-gray-10",children:["Increase ",l.name," Allowance"]}),(0,w.jsxs)("div",{className:"w-full self-stretch text-center text-2xs text-gray-4",children:["In order to complete this trade you first need to increase your",l.name," allowance in your wallet. After this is completed you will be able to submit the trade for this amount."]})]})})]}),(0,w.jsxs)("div",{className:"flex items-start justify-start gap-2 self-stretch",children:[(0,w.jsx)(en.Z,{size:"unset",style:"secondary",onClick:t,className:"rounded p-[12px] text-[14px] leading-[16px]",children:"Cancel"}),(0,w.jsx)(en.Z,{size:"unset",style:"primary",onClick:s,className:"rounded p-[12px] text-[14px] leading-[16px]",children:"Increase"})]})]})}function eW(e){let{onClickBack:t,onClickGasOptions:n,showRevokeAllowancePanel:s,token:l,baseAmount:a,quoteToken:r,contract:i}=e,c=(0,R.Gc)(),{addAllowance:o,allowances:d}=(0,ev.YT)(),{currentWallet:u}=(0,ea.OZ)(),{setShownTransactionPanelStage:x}=(0,ek.tF)(),[h,m]=(0,C.useState)(),f=(0,ey.GS)(h),{status:p,data:v,error:g}=null!=f?f:{},{getNativeTokenChain:y,getWrappedNativeTokenChain:j}=(0,eT.rU)(),{title:b,message:N}=(0,eb.T)(null==f?void 0:f.error,y),k=u?y(u.chain):void 0,T=u?j(u.chain):void 0,O=k&&T&&(0,eV.m)(l,r,k,T),S=!O&&k&&(0,eH.CH)(d,i,l,a,k);(0,C.useEffect)(()=>{if(!u||"solana"===u.chain.chainType)return;let e=async()=>{(0,eH.k7)(u.wallet,l).then(()=>{}).catch(()=>{s(l)})};S&&e()},[s,l,S,u]);let Z=(0,C.useMemo)(()=>({initial:{Component:(0,w.jsx)(eD,{onClickBack:t,onClickGasOptions:n,onClickSubmit:()=>{if(!u)throw Error("Wallet is required!");(0,eZ.v)(u.chain);let e=o(l,i);m(e)},token:l}),ref:(0,C.createRef)()},pending:{Component:(0,w.jsx)(eP,{onClickBack:()=>m(void 0),className:"min-h-[238px]"}),ref:(0,C.createRef)()},submitted:{Component:u?(0,w.jsx)(eF,{transactionHash:null==v?void 0:v.transactionHash,chain:u.chain,onClickBack:()=>m(void 0),className:"min-h-[238px]"}):(0,w.jsx)(w.Fragment,{}),ref:(0,C.createRef)()},completed:{Component:(0,w.jsx)(eL,{chain:l.chain,transactionHash:null==v?void 0:v.transactionHash,onClickBack:()=>{m(void 0),t()},className:"min-h-[238px]"}),ref:(0,C.createRef)()},error:{Component:(0,w.jsx)(ej.kW,{onClickBack:()=>m(void 0),className:"min-h-[238px] pb-0 pt-5",buttonWrapperClassName:"pt-5",title:b,errorMessage:N}),ref:(0,C.createRef)()}}),[t,n,l,null==v?void 0:v.transactionHash,u,o,i,b,N]),E=(0,C.useMemo)(()=>p||g?"pending"===p&&(null==v?void 0:v.stage)==="initial"?"pending":"pending"===p&&(null==v?void 0:v.stage)==="submitted"?"submitted":"success"===p&&(null==v?void 0:v.stage)==="confirmed"?"completed":"error":"initial",[p,g,null==v?void 0:v.stage]);(0,C.useEffect)(()=>(x(E),()=>x(void 0)),[E,x]);let M=Z[E],A=(0,w.jsx)(eI.Z,{mode:"out-in",children:(0,w.jsx)(eR.Z,{nodeRef:M.ref,addEndListener:e=>{var t,n;null===(n=M.ref)||void 0===n||null===(t=n.current)||void 0===t||t.addEventListener("transitionend",e,!1)},classNames:"fade",children:(0,w.jsx)("div",{className:"flex w-full flex-1",ref:M.ref,children:M.Component})},E)}),[I,_]=(0,C.useState)(!1);return"large"===c?A:(0,w.jsx)(eg.Z,{isOpen:!I,onRequestClose:()=>{_(!0),t()},animationTheme:"fade",pageTheme:"exchange-v2",children:A})}var ez=["title","titleId"];function eG(){return(eG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var eq=function(e){var t=e.title,n=e.titleId,s=function(e,t){if(null==e)return{};var n,s,l=function(e,t){if(null==e)return{};var n,s,l={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,ez);return C.createElement("svg",eG({width:40,height:41,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?C.createElement("title",{id:n},t):null,f||(f=C.createElement("circle",{cx:20,cy:20.5,r:20,fill:"#FFCC48"})),p||(p=C.createElement("path",{d:"M16.55 12.166h6.9l4.883 4.883v6.9l-4.883 4.884h-6.9l-4.883-4.884v-6.9l4.883-4.883ZM20 17.166v3.333M20 23.834h.008",stroke:"#fff",strokeWidth:1.667,strokeLinecap:"round",strokeLinejoin:"round"})))};function eX(e){let{onClickBack:t,onClickGasOptions:n,onClickSubmit:s,token:l}=e,{gasPrices:a}=(0,ew.J)();return(0,w.jsxs)("div",{className:"flex flex-col items-start justify-start",children:[(0,w.jsxs)("div",{className:"flex items-start justify-start gap-2.5 self-stretch bg-[#1f2229]",children:[(0,w.jsx)("button",{onClick:t,children:(0,w.jsx)(ed.Z,{className:"text-gray-0_75 hocus:text-gray-2"})}),(0,w.jsx)("div",{className:"relative flex flex-grow items-center justify-start gap-2",children:(0,w.jsx)("div",{className:"flex h-7 w-48 flex-grow items-center justify-center text-center text-sm font-bold text-gray-10",children:"Revoke Allowance"})}),a?(0,w.jsx)("button",{onClick:n,children:(0,w.jsx)(eh,{className:"text-gray-0_75 hocus:text-gray-2"})}):(0,w.jsx)("div",{className:"w-[28px]"})]}),(0,w.jsxs)("div",{className:"flex flex-col items-center justify-center self-stretch",children:[(0,w.jsx)("div",{className:"relative flex w-[40px] flex-col items-center justify-start pb-[20px] pt-[40px]",children:(0,w.jsx)(eq,{})}),(0,w.jsx)("div",{className:"flex flex-col items-center justify-start self-stretch pb-[40px]",children:(0,w.jsxs)("div",{className:"relative flex flex-col items-start justify-start gap-1 self-stretch",children:[(0,w.jsxs)("div",{className:"w-full self-stretch pb-[4px] text-center text-xs font-bold text-gray-10",children:["Revoke ",l.name," Allowance"]}),(0,w.jsx)("div",{className:"w-full self-stretch text-center text-2xs text-gray-4",children:"Unfortunately this token doesn’t allow for it’s allowance to be changed. In order to increase the allowance you need to first revoke it from your wallet. Then unlock it with a new allowance."})]})})]}),(0,w.jsxs)("div",{className:"flex items-start justify-start gap-2 self-stretch",children:[(0,w.jsx)(en.Z,{size:"unset",style:"secondary",onClick:t,className:"rounded p-[12px] text-[14px] leading-[16px]",children:"Cancel"}),(0,w.jsx)(en.Z,{size:"unset",style:"primary",onClick:s,className:"rounded p-[12px] text-[14px] leading-[16px]",children:"Revoke"})]})]})}function eY(e){let{onClickBack:t,onClickGasOptions:n,token:s,contract:l}=e,a=(0,R.Gc)(),{currentWallet:r}=(0,ea.OZ)(),{revokeAllowance:i}=(0,ev.YT)(),{setShownTransactionPanelStage:c}=(0,ek.tF)(),[o,d]=(0,C.useState)(),u=(0,ey.GS)(o),{status:x,data:h,error:m}=null!=u?u:{},{getNativeTokenChain:f}=(0,eT.rU)(),{title:p,message:v}=(0,eb.T)(null==u?void 0:u.error,f),g=(0,C.useMemo)(()=>({initial:{Component:(0,w.jsx)(eX,{onClickBack:t,onClickGasOptions:n,onClickSubmit:()=>{if(!r)throw Error("Wallet is required!");(0,eZ.v)(r.chain);let e=i(s,l);d(e)},token:s}),ref:(0,C.createRef)()},pending:{Component:(0,w.jsx)(eP,{onClickBack:()=>d(void 0),className:"min-h-[238px]"}),ref:(0,C.createRef)()},submitted:{Component:r?(0,w.jsx)(eF,{transactionHash:null==h?void 0:h.transactionHash,chain:r.chain,onClickBack:()=>d(void 0),className:"min-h-[238px]"}):(0,w.jsx)(w.Fragment,{}),ref:(0,C.createRef)()},completed:{Component:(0,w.jsx)(eL,{chain:s.chain,transactionHash:null==h?void 0:h.transactionHash,onClickBack:()=>{d(void 0),t()},className:"min-h-[238px]"}),ref:(0,C.createRef)()},error:{Component:(0,w.jsx)(ej.kW,{onClickBack:()=>d(void 0),className:"min-h-[238px] pb-0 pt-5",buttonWrapperClassName:"pt-5",title:p,errorMessage:v}),ref:(0,C.createRef)()}}),[t,n,s,null==h?void 0:h.transactionHash,r,i,l,p,v]),y=(0,C.useMemo)(()=>x||m?"pending"===x&&(null==h?void 0:h.stage)==="initial"?"pending":"pending"===x&&(null==h?void 0:h.stage)==="submitted"?"submitted":"success"===x&&(null==h?void 0:h.stage)==="confirmed"?"completed":"error":"initial",[x,m,null==h?void 0:h.stage]);(0,C.useEffect)(()=>(c(y),()=>c(void 0)),[y,c]);let j=g[y],b=(0,w.jsx)(eI.Z,{mode:"out-in",children:(0,w.jsx)(eR.Z,{nodeRef:j.ref,addEndListener:e=>{var t,n;null===(n=j.ref)||void 0===n||null===(t=n.current)||void 0===t||t.addEventListener("transitionend",e,!1)},classNames:"fade",children:(0,w.jsx)("div",{className:"flex w-full flex-1",ref:j.ref,children:j.Component})},y)}),[N,k]=(0,C.useState)(!1);return"large"===a?b:(0,w.jsx)(eg.Z,{isOpen:!N,onRequestClose:()=>{k(!0),t()},animationTheme:"fade",pageTheme:"exchange-v2",children:b})}var eK=["title","titleId"];function e$(){return(e$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var eJ=function(e){var t=e.title,n=e.titleId,s=function(e,t){if(null==e)return{};var n,s,l=function(e,t){if(null==e)return{};var n,s,l={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,eK);return C.createElement("svg",e$({width:28,height:28,fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?C.createElement("title",{id:n},t):null,v||(v=C.createElement("path",{d:"m18 10-8 8M10 10l8 8",stroke:"#96A2B4",strokeWidth:1.333,strokeLinecap:"round",strokeLinejoin:"round"})),g||(g=C.createElement("rect",{x:.5,y:.5,width:27,height:27,rx:3.5,stroke:"currentColor"})))},eQ=n(49960),e0=n(19158),e1=n(52877);function e2(e){let{value:t,onChange:n,pageTheme:s,inputClassName:l,autoFocusInput:a,leftIcon:r,className:i,action:c,readOnly:o,validationError:d,showAsDiv:u,showBorder:x=!0,hideActionIcon:h}=e,m=(0,C.useRef)(null);return((0,C.useEffect)(()=>{if(a){var e;null===(e=m.current)||void 0===e||e.focus()}},[a]),u&&t)?(0,w.jsxs)("div",{onClick:c,className:k()(i,"flex cursor-pointer items-center justify-between rounded-[4px] p-[8px] hocus:bg-gray-0_5"),children:[r&&(0,w.jsxs)("div",{className:"flex items-center text-2xs",children:[r,(0,w.jsx)("span",{className:"ml-[8px]",children:t})]}),(0,w.jsx)(e0.Z,{direction:"right"})]}):(0,w.jsxs)("div",{onClick:c||(()=>null),className:k()(i,"relative",c&&!h&&"cursor-pointer"),children:[r&&(0,w.jsx)("div",{className:k()("pointer-events-none absolute bottom-0 left-[8px] top-0 flex items-center",d&&"h-[33px]"),children:r}),c&&!h&&(0,w.jsx)("button",{onClick:c,className:k()(d&&"h-[33px]","absolute bottom-0 right-[12px] top-0 flex items-center"),children:(0,w.jsx)(e0.Z,{direction:"right",size:8})}),(0,w.jsx)(e1.Z,{error:d,readOnly:o,innerRef:m,isScrollable:!1,className:k()(c&&!h&&"cursor-pointer","pl-8","py-[8px]","overflow-hidden","focus:border-[1px] focus:border-gray-3 hover:border-[1px]",!d&&"hover:border-gray-2",!x&&"border-none",l),type:"text",placeholder:"Enter Address",onChange:n,value:t,pageTheme:s})]})}var e4=n(65500),e3=n(61214),e5=n(14917),e6=n(54566),e8=n(47251),e7=n(49873);function e9(e){let{chain:t,onClick:n,disabled:s,isSelected:l}=e,{theme:a}=(0,eN.F)();return(0,w.jsx)("div",{"data-testid":"".concat(t.chainId,"-switch-network-button"),className:k()("max-w-[28px] rounded border-[2px] hover:outline hover:outline-[2px] hover:outline-gray-2",s?"light"===a?"cursor-default border-transparent opacity-50":"cursor-default border-transparent brightness-50":"cursor-pointer border-gray-0_25"),style:{outline:l?"2px solid ".concat(function(e,t){if("solana"===e.chainType)switch(e.chainId){case e7.iV.chainId:return"dark"===t?"#ffffff":"#2F343E";case e7.vq.chainId:return"#000000"}else if("evm"===e.chainType)switch(e.chainId){case e4.Networks.ETHEREUM.chainId:return"#627eea";case e4.Networks.GOERLI.chainId:return"dark"===t?"#ffffff":"#2F343E";case e4.Networks.POLYGON.chainId:return"#8247e5";case e4.Networks.MUMBAI.chainId:return"dark"===t?"#ffffff":"#2F343E";case e4.Networks.BNB.chainId:return"#f3ba2f";case e4.Networks.BNB_TESTNET.chainId:return"dark"===t?"#ffffff":"#2F343E";case e4.Networks.AVALANCHE.chainId:return"#e84142";case e4.Networks.ARBITRUM.chainId:return"#2d374b";case e4.Networks.OPTIMISM.chainId:return"#ff0421"}return"var(--gray_0_25)"}(t,a)):void 0},onClick:s?()=>{}:()=>n(t),children:(0,w.jsx)(e3.Z,{chain:t,size:24,displayType:"square"})})}function te(e){let{onChange:t,displayedChain:n,chains:s}=e,{availableChains:l}=(0,ea.OZ)(),{featureAccess:a}=(0,e5.r)(),r=(0,e8.H)({showTestnets:(0,e6.Mp)(),showSolana:a.solana}),i=null!=s?s:l,c=[...eE.AK.filter(e=>i.find(t=>(0,eE.O8)(t,e))),...eE.AK.filter(e=>!i.find(t=>(0,eE.O8)(t,e)))].filter(e=>e.chainId!==e4.Networks.POLYGON.chainId&&e.chainId!==e4.Networks.OPTIMISM.chainId&&e.chainId!==e4.Networks.AVALANCHE.chainId&&e.chainId!==e4.Networks.BNB.chainId);return(0,w.jsx)("div",{className:"grid grid-cols-7 gap-[11.5px] px-[2px] py-[2px]",children:c.filter(e=>r.find(t=>(0,eE.O8)(t,e))).map((e,s)=>(0,w.jsx)(e9,{chain:e,onClick:e=>{t(e)},disabled:!i.find(t=>(0,eE.O8)(t,e)),isSelected:!!n&&(0,eE.O8)(e,n)},"".concat(s,"-").concat((0,eE.WX)(e))))})}var tt=n(22354),tn=n(87559),ts=n(62365),tl=n(22510),ta=n(19993),tr=n(79373),ti=n(40814),tc=n(45903);let to=["MetaMask","WalletConnect","Phantom","PhantomEvm","Solflare"],td=["Phantom","Solflare","Backpack"];function tu(e){let{onClick:t,type:n}=e;return(0,w.jsxs)("button",{"data-testid":n,onClick:t,className:k()("flex items-center rounded-lg outline-none transition-all","overflow-hidden border border-gray-0_75 text-sm","h-[96px] flex-col content-center items-center justify-center gap-0 hover:bg-gray-0_5"),type:"button",children:[(0,w.jsx)("div",{className:"flex-none",children:(0,w.jsx)(eO.Z,{type:n,size:24})}),(0,w.jsx)("div",{className:"mt-[8px] flex-initial truncate text-xs",children:(0,ti.w)(n)})]})}function tx(e){let{href:t,type:n}=e;return(0,w.jsx)(tn.Z,{href:t,style:"unstyled","data-testid":n,children:(0,w.jsxs)("div",{className:k()("group","flex items-center rounded-lg outline-none transition-all","overflow-hidden border border-gray-0_75 text-sm","h-[96px] flex-col content-center items-center gap-0 p-[23px] hover:p-[18px]","hover:bg-gray-0_5"),children:[(0,w.jsx)("div",{className:"flex-none opacity-50",children:(0,w.jsx)(eO.Z,{type:n,size:24})}),(0,w.jsxs)("div",{className:"flex-col justify-center",children:[(0,w.jsx)("div",{className:"mt-[8px] flex items-center justify-center truncate text-xs opacity-50",children:(0,ti.w)(n)}),(0,w.jsx)("div",{className:"collapse text-[11px] group-hover:visible",children:"Click to Install"})]})]})})}let th=e=>{switch(e){case"MetaMask":return(0,tl.XV)(tl.cC.WALLET.METAMASK_CONNECT);case"CoinbaseWallet":return(0,tl.XV)(tl.cC.WALLET.COINBASE_CONNECT);case"WalletConnect":return(0,tl.XV)(tl.cC.WALLET.WALLETCONNECT_CONNECT);case"UnknownInjected":return(0,tl.XV)(tl.cC.WALLET.INJECTED_CONNECT);case"Trust":return(0,tl.XV)(tl.cC.WALLET.TRUST_CONNECT);case"OKX":return(0,tl.XV)(tl.cC.WALLET.OKX_CONNECT);case"XDEFI":return(0,tl.XV)(tl.cC.WALLET.XDEFI_CONNECT);case"Core":return(0,tl.XV)(tl.cC.WALLET.CORE_CONNECT);case"LedgerWallet":return(0,tl.XV)(tl.cC.WALLET.LEDGER_CONNECT);case"Trezor":return(0,tl.XV)(tl.cC.WALLET.TREZOR_CONNECT);case"BraveWallet":return(0,tl.XV)(tl.cC.WALLET.BRAVE_CONNECT)}};function tm(e){let{onConnect:t,chain:n,setConnectingWallet:s}=e,{connect:l,availableWallets:a,currentWallet:r,switchNetwork:i}=(0,ea.OZ)(),{theme:c}=(0,eN.F)(),{featureAccess:o}=(0,e5.r)(),[d,u]=(0,C.useState)(!1),x=(0,tc.Z)(),h=!n||"evm"===n.chainType,m=!n||"solana"===n.chainType,f=x&&(null==n?void 0:n.chainType)!=="solana"&&"MetaMask"!==x&&h?[{wallet:x,isAvailable:!0}]:[],p=h?a(null!=n?n:{chainId:e7.QX.chainId,chainType:"evm"}).map(e=>({wallet:e,isAvailable:(0,tr.Z)(e),installLink:(0,ta.Z)(e)})):[],v=m&&o.solana?a(null!=n?n:{chainId:e7.vq.chainId,chainType:"solana"}):[],g=m&&o.solana?v.map(e=>({wallet:e,isAvailable:!0})).concat(td.filter(e=>!v.includes(e)).map(e=>({wallet:e,isAvailable:!1,installLink:(0,ta.Z)(e)}))):[],y={};for(let e of[...f,...p,...g])y[e.wallet]&&y[e.wallet].isAvailable||(y[e.wallet]=e);let[j,b]=(0,C.useState)(!1),N=["UnknownInjected","BackpackEvm","MetaMask"===x?"PhantomEvm":"PhantomEvm"===x?"MetaMask":""],T=Object.values(y).filter(e=>!N.includes(e.wallet)).filter(e=>e.isAvailable||(0,ta.Z)(e.wallet)).sort((e,t)=>e.isAvailable!==t.isAvailable?Number(t.isAvailable)-Number(e.isAvailable):to.includes(e.wallet)!==to.includes(t.wallet)?Number(to.includes(t.wallet))-Number(to.includes(e.wallet)):e.wallet.localeCompare(t.wallet)),O=async(e,s)=>{((0,tl.XV)(tl.cC.WALLET.CONNECT),th(e),r)?n&&i(n,()=>null):null==t||t(),s(e),await l(e,c,n)},S=async(e,t)=>{"UnknownInjected"===e?u(!0):O(e,t)};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:k()(j&&"max-h-[470px] min-h-[330px]","flex w-full flex-col gap-[20px]"),children:[(0,w.jsx)("div",{className:"flex w-full flex-col gap-5",children:(0,w.jsx)("div",{className:"flex flex-col gap-[20px]",children:(0,w.jsx)("div",{className:"grid grid-cols-2 gap-3",children:T.slice(0,j?1/0:4).map(e=>e.isAvailable?(0,w.jsx)(tu,{onClick:()=>S(e.wallet,s),type:e.wallet},"wallet-".concat(e.wallet)):(0,ta.Z)(e.wallet)?(0,w.jsx)(tx,{href:(0,ta.Z)(e.wallet),type:e.wallet},"wallet-install-".concat(e.wallet)):(0,w.jsx)(w.Fragment,{}))})})}),(0,w.jsxs)("div",{className:"px-1 text-center text-xs text-gray-4",children:["By connecting a wallet, I agree to Hashflow’s"," ",(0,w.jsx)(tn.Z,{href:"https://www.hashflow.com/terms",children:"Terms of Service"}),", and"," ",(0,w.jsx)(tn.Z,{href:"https://www.hashflow.com/privacy",children:"Privacy Policy"}),"."]}),T.length>4&&!j&&(0,w.jsx)(en.Z,{style:"secondary",size:"header",type:"button",onClick:()=>b(!0),children:"Show More"})]}),d&&(0,w.jsx)(ts.Z,{isOpen:d,onRequestClose:()=>u(!1),onConnect:()=>O("UnknownInjected",s)})]})}function tf(e){let{onClickClose:t,chain:n,isOpen:s,passedMinHeight:l,title:a}=e,{theme:r}=(0,eN.F)(),[i,c]=(0,C.useState)("form"),o=(0,C.useState)(void 0),[d,u]=o,{currentWallet:x}=(0,ea.OZ)(),[h,m]=(0,C.useState)(void 0);return((null==d?void 0:d.show)&&x&&u(void 0),s&&"connecting"===i)?(0,w.jsx)(tt.Z,{connectingWallet:h,passedMinHeight:l,showAsInline:!0,isOpen:s&&"connecting"===i,onRequestClose:()=>c("form"),pageTheme:"exchange-v2"}):(0,w.jsxs)("div",{className:"hide-scrollbar flex min-h-[290px] flex-col items-start justify-between overflow-y-auto overscroll-y-none",children:[(0,w.jsxs)("div",{className:"mb-[12px] flex w-full items-center",children:["function"==typeof t&&(0,w.jsx)("button",{"data-testid":"back-action-button",className:"rounded-[4px] text-gray-0_75 hover:text-gray-2",onClick:t,children:(0,w.jsx)(ed.Z,{className:"light"===r?"text-gray-0_75":"text-gray-1"})}),(0,w.jsx)("div",{className:"mr-[28px] flex w-full items-center justify-center text-[14px] font-bold leading-[20px]",children:a})]}),(0,w.jsx)(tm,{setConnectingWallet:m,chain:n,onConnect:()=>c("connecting")})]})}var tp=n(92630),tv=n(62286),tg=n(42813),ty=n(52678);async function tj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2?arguments[2]:void 0,s=await ty.Z.get("client/token-search",{params:{searchTerm:e,limit:t,chainId:String(n.chainId),chainType:n.chainType}});return s.data}var tw=n(72673),tb=n(38571),tN=n(30410),tk=n(12550),tC=n(88727),tT=n(16067),tO=n(24473),tS=n(98174),tZ=n(1973),tE=n(26521);function tM(e){var t;let{token:n,chain:s,onClick:l,hideValues:a}=e;return(0,w.jsx)("button",{className:k()("rounded p-[8px] outline-none hocus:bg-gray-0_5"),onClick:l,type:"button",children:(0,w.jsxs)("div",{className:"flex items-center gap-[16px]",children:[(0,w.jsxs)("div",{className:"relative min-h-[32px] min-w-[32px]",children:[(0,w.jsx)(eC.Z,{tokenName:n.name,size:32}),(0,w.jsx)("div",{className:"absolute left-[23px] top-[16px] rounded border-[2px] border-gray-0_25",children:(0,w.jsx)(e3.Z,{chain:s,size:14,displayType:"square"})})]}),(0,w.jsx)("div",{className:"flex flex-auto",children:(0,w.jsxs)("div",{className:"flex flex-col items-start",children:[(0,w.jsx)("div",{className:"max-w-[144px] overflow-hidden whitespace-nowrap text-xs text-gray-10 ellipsis",children:n.name}),(0,w.jsx)("div",{className:"max-w-[144px] overflow-hidden whitespace-nowrap text-2xs text-gray-4 ellipsis",children:null!==(t=n.displayName)&&void 0!==t?t:n.name})]})}),!a&&(0,w.jsxs)("div",{className:"flex flex-col items-end",children:[(0,w.jsx)("div",{className:"text-xs text-gray-10",children:(0,tC.Bw)(n.balanceNumber,tb.Df)}),(0,w.jsx)("div",{className:"text-2xs text-gray-4",children:(0,tC.Aw)(n.balanceUSD)})]})]})},"Token-".concat(n.name))}function tA(){return(0,w.jsx)("button",{className:k()("rounded p-[8px] outline-none hocus:bg-gray-0_5"),type:"button",children:(0,w.jsxs)("div",{className:"flex items-center gap-[16px]",children:[(0,w.jsx)("div",{className:"relative min-h-[32px] min-w-[32px]",children:(0,w.jsx)("div",{className:k()("h-[32px] w-[32px] rounded-full","shimmer-container")})}),(0,w.jsx)("div",{className:"flex flex-auto",children:(0,w.jsxs)("div",{className:"flex flex-col items-start",children:[(0,w.jsx)("div",{className:"shimmer-container mb-[5px] h-[12px] min-w-[100px] overflow-hidden whitespace-nowrap rounded-md text-xs text-gray-10 ellipsis"}),(0,w.jsx)("div",{className:"shimmer-container h-[10px] min-w-[50px] overflow-hidden whitespace-nowrap rounded-md text-2xs text-gray-4 ellipsis"})]})})]})})}function tI(e,t){let n=t.reduce((e,t)=>({...e,[(0,tT.Bf)(t)]:t.price}),{});e(n)}function tR(e){var t;let{onChange:n,tokens:s,title:l,onClickClose:a,type:r,networks:i,isMobile:c,refProp:o,isOpen:d,includeOpeningTransitionAnimation:u,applyClosingTransitionAnimation:x}=e,{theme:h}=(0,eN.F)(),m=(0,R.Gc)(),[f,p]=(0,C.useState)(""),v=f.toLowerCase().trim(),[g,y]=(0,C.useState)(""),j=function(e,t){let[n,s]=(0,C.useState)(e);return(0,C.useEffect)(()=>{let n=setTimeout(()=>s(e),t||500);return()=>{clearTimeout(n)}},[e,t]),n}(v,1e3);(0,tg.$3)(),(0,el.BR)(s);let{quoteToken:b,baseToken:N,quoteWallet:T,setQuoteWallet:O}=(0,L.AK)(),{setQuoteNetwork:S}=(0,tw.Z)(),{knownTokens:Z}=(0,U.Zd)(),E=(0,C.useMemo)(()=>new Set(Z.map(e=>e.name)).add("HFT"),[Z]),{prices:M}=(0,tp.L)(),{balances:A}=(0,el.ln)(),{addPrices:I}=(0,tp.L)(),{setTokensMapV3:_}=(0,eT.rU)(),{currentWallet:P,pastEvmWallets:F,pastSolanaWallets:B,switchNetwork:V,addToPastWallet:H}=(0,ea.OZ)(),{featureAccess:D}=(0,e5.r)(),W=(null==T?void 0:T.chainType)===b.chain.chainType,[z,G]=(0,C.useState)(W?T.address:""),[q,Y]=(0,C.useState)(""),K=N.chain.chainType===b.chain.chainType,[$,J]=(0,C.useState)(!1),Q=(0,C.useMemo)(()=>{if(!(0,eE.O8)(N.chain,b.chain))return!1;let e="quote"===r?b.chain:N.chain;return(0,tv.u)(e,D)},[r,N.chain,b.chain,D]),{gradients:ee,onScroll:et,scrollContainerRef:er}=(0,tk.Z)("small"===m?"#181a1f":"var(--gray_0_25)");(0,C.useEffect)(et,[v,et]);let[ei,ec]=(0,C.useState)([]),[eo,eu]=(0,C.useState)(!1);(0,C.useEffect)(()=>{Q&&eu(!0),""===f&&(eu(!1),ec([]))},[Q,f]);let[ex,eh]=(0,C.useState)(!1),[em,ef]=(0,C.useState)(N.chain);(0,C.useEffect)(()=>{ek(!eb)},[ex]),(0,C.useEffect)(()=>{async function e(e){let t=await tj(j,5,e),n=t.tokens.map(e=>{var t;let n={chain:{chainType:"evm",chainId:e.chainId},address:new tZ.qQ(e.address)};return null!==(t=Z.find(e=>(0,tT.RZ)(e,n)))&&void 0!==t?t:(0,tN.hn)(n,e)});ec(n),eu(!1)}Q&&(j&&(null==P?void 0:P.chain)?e(P.chain):ec([]))},[I,j,Q,Z,null==P?void 0:P.chain]);let ep=(0,C.useMemo)(()=>{let e=ei.length?(0,tb.dE)(s.filter(e=>e.name.toLowerCase().includes(j)),ei):s;return e.map(e=>{var t;let n=A[(0,tT.Bf)(e)],s=n?(0,tC.UK)(n,e.decimals):0,l=s*(null!==(t=M[(0,tT.Bf)(e)])&&void 0!==t?t:0);return{...e,balanceNumber:s,balanceUSD:l}}).sort((e,t)=>t.balanceUSD-e.balanceUSD||Number(E.has(t.name))-Number(E.has(e.name)))},[ei,s,j,A,M,E]),ev=()=>{if(!K){if(""===z){ew("Please enter in a wallet address");return}if(!("solana"===b.chain.chainType?(0,tE.r)(z):(0,tO.MG)(z))){ew("Invalid address format");return}}eZ(b.chain.chainType,z),a&&a()};(0,C.useEffect)(et,[ep,et]),t=()=>{ev()},(0,C.useEffect)(()=>{function e(e){o&&o.current&&e.target instanceof Element&&!o.current.contains(e.target)&&t()}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[o,t]),(0,C.useEffect)(()=>{ew(""),!K&&(null==T?void 0:T.address)&&W?G(T.address):G("")},[V]);let eg=(0,C.useMemo)(()=>{if(Q&&ei.length){let e=ep.filter(e=>e.name.toLowerCase().includes(v));return{searchFilterTokens:e,searchedTokens:ep,topTokens:[],unownedTokens:[],myTokens:[]}}if(v){let e=ep.filter(e=>e.name.toLowerCase().includes(v));return{searchedTokens:e,searchFilterTokens:e,topTokens:[],unownedTokens:[],myTokens:[]}}{let e=ep.filter(e=>e.balanceNumber>0),t=ep.filter(t=>!e.find(e=>(0,tT.RZ)(e,t))),n=t.filter(e=>{var t;return null===(t=tb.wx[e.chain.chainId])||void 0===t?void 0:t.includes(e.name)}).map(e=>({token:e,index:tb.wx[e.chain.chainId].indexOf(e.name)})).filter(e=>void 0!==e.index).sort((e,t)=>e.index-t.index).map(e=>e.token).slice(0,5),s=t.filter(e=>!n.find(t=>(0,tT.RZ)(t,e)));return{myTokens:e,topTokens:n,unownedTokens:s,searchedTokens:[]}}},[ei,v,Q,ep]),ey=(0,C.useMemo)(()=>eg.myTokens.length>0,[eg.myTokens]),[ej,ew]=(0,C.useState)(""),[eb,ek]=(0,C.useState)(!1);(0,C.useEffect)(()=>{d&&u&&ek(!0)},[u,d]);let eC=()=>{J(!$),Y("")},eS=(e,t,n)=>{let s="evm"===n?e.toLowerCase():e;O({address:s,identifier:t,timeStampMs:Date.now(),chainType:b.chain.chainType}),W&&(H(n,s,t),G(s),y(t),J(!$))},eZ=(0,C.useCallback)((e,t)=>{let n="evm"===e?t.toLowerCase():t;W&&(H(e,n,g||T.identifier),O({address:n,identifier:g,timeStampMs:Date.now(),chainType:b.chain.chainType}),G(t),Y(""),J(!$))},[H,W,b.chain.chainType,null==T?void 0:T.identifier,g,O,$]);if(!P)return(0,w.jsx)(w.Fragment,{});let eM="base"===r?P.chain:b.chain,eA=(e,t)=>{if(!(null==T?void 0:T.address)&&!K){if(""===z){ew("Please enter in a wallet address");return}if(!("solana"===b.chain.chainType?(0,tE.r)(z):(0,tO.MG)(z))){ew("Invalid address format");return}}n(e),eZ(b.chain.chainType,z),null==t||t(),null==a||a()};return ex?(0,w.jsx)(tf,{passedMinHeight:296,isOpen:ex,chain:em,onClickClose:()=>eh(!1),title:"evm"===em.chainType?"Connect EVM Wallet":"Connect Solana Wallet"}):(0,w.jsxs)("div",{className:(0,tS.m)("flex flex-col overflow-hidden",!eb&&u||x?"close-token-selector":"open-token-selector",!eb&&ex&&"h-[332px] max-h-[332px]"),ref:o,children:[$?(0,w.jsxs)("div",{className:"h-full",children:[(0,w.jsxs)("div",{className:"flex items-center pb-[16px]",children:[(0,w.jsx)("button",{className:"justify-between rounded-[4px] text-gray-0_75 hover:text-gray-2 ",onClick:eC,children:(0,w.jsx)(ed.Z,{className:"light"===h?"text-gray-0_75":"text-gray-1"})}),(0,w.jsx)("div",{className:"pl-[35px] text-[14px] font-bold leading-[20px]",children:"".concat("evm"===b.chain.chainType?"EVM":"Solana"," Wallet Address")})]}),(0,w.jsx)("div",{className:"pb-[8px] text-2xs text-gray-4",children:"Previously connected wallets"}),(0,w.jsx)("div",{className:"w=full",children:("evm"===b.chain.chainType?F:B).sort((e,t)=>t.timeStampMs-e.timeStampMs).slice(0,5).map(e=>(0,w.jsx)("button",{className:"w-full",onClick:()=>eS(e.address,e.identifier,b.chain.chainType),children:(0,w.jsxs)("div",{className:"mb-[12px] flex items-center truncate rounded border-[1px] border-gray-0_75 p-[8px]",children:[(0,w.jsx)(eO.Z,{size:16,type:e.identifier}),(0,w.jsx)("span",{className:"w-full overflow-hidden pl-[8px] text-left text-xs",children:(0,tE.o)(e.address,25)})]})},e.address))}),(0,w.jsx)("div",{className:"pb-[8px] text-2xs text-gray-4",children:"Use a new wallet address"}),(0,w.jsx)(e2,{showBorder:!!ej,leftIcon:(0,w.jsx)(X.Z,{}),value:q,onChange:Y,pageTheme:"exchange-v2",className:"mb-[45px]",decoyPlaceholder:(0,w.jsx)("div",{className:"text-xs text-gray-1_5",children:"Enter Address"})})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"flex items-center justify-between pb-[16px]",children:[(0,w.jsx)("div",{className:"text-[14px] font-bold leading-[20px]",children:l}),"function"==typeof a&&(0,w.jsx)("button",{className:"rounded-[4px] text-gray-0_75 hover:text-gray-2",onClick:ev,children:(0,w.jsx)(eJ,{className:"light"===h?"text-gray-0_75":"text-gray-1"})})]}),(0,w.jsxs)("div",{className:"flex flex-auto flex-col items-stretch gap-[16px] overflow-hidden",children:[(0,w.jsx)(eQ.Z,{value:f,onChange:p,pageTheme:"exchange-v2",inputClassName:"placeholder-gray-1_5 p-[8px] pl-[28px]",autoFocusInput:!0}),(0,w.jsxs)("div",{className:"flex flex-col gap-[6px] pb-[16px]",children:[(0,eE.tG)(eM)&&(0,w.jsxs)("div",{className:"text-2xs text-gray-4",children:["Network: ",(0,eE.tG)(eM).label]}),(0,w.jsx)(te,{chains:i?Array.from(i):void 0,displayedChain:eM,onChange:"base"===r?e=>{V(e,()=>{ef(e),eh(!0)})}:e=>{S(e)}})]}),(0,w.jsx)("div",{className:k()("linear my-[-16px] flex flex-col justify-center overflow-hidden transition-all duration-300","large"===m?K||"quote"!==r?"h-0":b.chain?"delayed-fade-in-350ms h-[120px]":"h-[120px]":K||"quote"!==r?"h-0":b.chain?"delayed-fade-in-350ms h-[180px]":"h-[180px]",ej&&!K&&"quote"===r&&"h-[190px]"),children:!K&&"quote"===r&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"flex items-center py-[8px]",children:[(0,w.jsx)("div",{className:k()("pr-[4px] text-2xs text-gray-4"),children:"".concat("evm"===b.chain.chainType?"EVM":"Solana"," Wallet Address")}),(0,w.jsx)(es.B,{trigger:"hover",className:"h-[12px] w-[12px]",placement:"top",children:"The wallet address to which your tokens will be sent"})]}),(null==T?void 0:T.address)&&W?(0,w.jsx)(e2,{showAsDiv:!0,showBorder:!!ej,action:eC,leftIcon:(0,w.jsx)(eO.Z,{type:T.identifier,size:16}),readOnly:!0,value:(0,tE.o)(T.address,25),pageTheme:"exchange-v2",inputClassName:"placeholder-gray-1_5 py-[9px] px-[30px]"}):(0,w.jsx)(e2,{validationError:ej,hideActionIcon:!0,action:()=>{("evm"===b.chain.chainType?tO.MG:tE.r)(z)&&eZ(b.chain.chainType,z)},leftIcon:(0,w.jsx)(eO.Z,{type:W&&(null==T?void 0:T.identifier)||"",size:16}),value:z,onChange:G,pageTheme:"exchange-v2",inputClassName:"placeholder-gray-1_5 py-[8px] px-[30px]",autoFocusInput:!0,decoyPlaceholder:(0,w.jsx)("div",{className:"text-xs text-gray-1_5",children:"Enter Address"})})]})}),(0,w.jsx)("div",{className:k()("flex flex-auto flex-col items-stretch gap-1.5 overflow-hidden","h-full"),children:(0,w.jsxs)("div",{className:"relative flex flex-auto flex-col items-stretch overflow-hidden",children:[(0,w.jsxs)("div",{className:"hide-scrollbar flex flex-1 flex-col items-stretch overflow-auto",ref:er,onScroll:et,children:[(f||ey)&&(0,w.jsxs)("div",{className:"flex flex-col items-stretch gap-0.5",children:[(0,w.jsx)("div",{className:k()("py-[8px] text-2xs text-gray-4",ey&&"pt-[0px]"),children:f?"Results":ey?"My Tokens":""}),eo?(0,w.jsx)(w.Fragment,{children:eg.searchFilterTokens&&eg.searchFilterTokens.map((e,t)=>(0,w.jsx)(tM,{token:e,chain:eM,onClick:()=>{eA(e,()=>{f&&(e.price?tI(I,[e]):e.geckoListName&&_([e]))})}},"Token-".concat(e.name,"-").concat(t)))}):(0,w.jsx)(w.Fragment,{children:(f?eg.searchedTokens:eg.myTokens).map((e,t)=>(0,w.jsx)(tM,{token:e,chain:eM,onClick:()=>{eA(e,()=>{f&&(e.price?tI(I,[e]):e.geckoListName&&_([e]))})}},"Token-".concat(e.name,"-").concat(t)))}),eo&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(tA,{}),(0,w.jsx)(tA,{}),(0,w.jsx)(tA,{}),(0,w.jsx)(tA,{}),(0,w.jsx)(tA,{})]})]}),!f&&eg.topTokens.length>0&&(0,w.jsxs)("div",{className:k()(!K&&"quote"===r&&"fade-in-up","flex flex-col items-stretch gap-0.5"),children:[(0,w.jsx)("div",{className:k()("pb-[8px] text-2xs text-gray-4",ey&&"pt-[8px]",!ey&&!f&&!K&&"quote"===r&&"pt-[16px]"),children:"Top Tokens"}),eg.topTokens.map((e,t)=>(0,w.jsx)(tM,{token:e,chain:e.chain,onClick:()=>{eA(e)},hideValues:!0},"Token-".concat(e.name,"-").concat(t)))]}),!f&&eg.unownedTokens.length>0&&(0,w.jsxs)("div",{className:"flex flex-col items-stretch gap-0.5",children:[(0,w.jsx)("div",{className:k()("pb-[8px] text-2xs text-gray-4","pt-[8px]"),children:"More Tokens"}),eg.unownedTokens.sort((e,t)=>e.name.localeCompare(t.name)).map((e,t)=>(0,w.jsx)(tM,{token:e,chain:P.chain,onClick:()=>{eA(e)},hideValues:!0},"Token-".concat(e.name,"-").concat(t)))]})]}),!c&&(f?eg.searchedTokens.length>5:eg.myTokens.concat(eg.topTokens,eg.unownedTokens).length>5)&&ee]})})]})]}),$&&(0,w.jsx)(en.Z,{disabled:!("solana"===b.chain.chainType?(0,tE.r)(q):(0,tO.MG)(q)),style:"primary",onClick:()=>eZ(b.chain.chainType,q),size:"unset",className:"rounded p-[12px] text-[14px] leading-[16px]",children:"Save"})]})}var t_=(0,n(66743).Z)(function(e){let{onRequestClose:t,onChange:n,tokens:s,title:l="Select token",type:a,networks:r,isOpen:i}=e,c=(0,R.Gc)(),o=(0,C.useRef)(null),d=(0,C.useRef)(null),[u,x]=(0,C.useState)();return(0,C.useEffect)(()=>{o.current&&"large"===c&&x(o.current.clientHeight)},[c]),(0,w.jsx)(eg.Z,{isOpen:i,onRequestClose:t,animationTheme:"fade",pageTheme:"exchange-v2",children:(0,w.jsx)("div",{className:k()("flex max-h-full flex-col items-stretch gap-6 overflow-hidden"),ref:o,style:{height:u},children:(0,w.jsx)(tR,{refProp:d,tokens:s,onChange:n,type:a,networks:r,title:l,isMobile:!0,onClickClose:t})})})}),tL=n(26456),tP=n(70431),tF=n(58943),tB=n(27085);async function tU(e){let{chain:t,tokenAddress:n,period:s}=e,l=await ty.Z.get("/client/price-history",{params:{chainType:t.chainType,chainId:t.chainId,address:n,period:s}}),a={status:l.data.status,data:l.data.prices};return l.data.error&&(a.error=l.data.error.message),a}let[tV,tH]=(0,tB.Z)(),tD={live:"1h",day:"1d",week:"1w",month:"1m",year:"1y",all:"all"},tW={live:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6,all:31536e8},tz={live:15e3,day:3e5,week:36e5,month:108e5,year:864e5,all:1728e5};function tG(e){let{children:t}=e,{baseToken:n}=(0,L.AK)(),[s,l]=(0,C.useState)(n),[a,r]=(0,C.useState)("live"),i=(0,C.useRef)(a),c=(0,C.useRef)(s),[o,d]=(0,C.useState)(),[u,x]=(0,C.useState)(void 0),[h,m]=(0,C.useState)({}),[f,p]=(0,C.useState)(!1),v=(0,C.useRef)(void 0),g=(0,C.useRef)(void 0),y=()=>"day"===a?6e5:"week"===a?18e5:"live"===a?6e4:void 0,j=(0,C.useRef)([]),b=!!s.chain&&!!s.address.toString()&&!j.current.includes(s.address.toString()),{data:N,isSuccess:k,isLoading:T,isRefetching:O}=(0,tF.a)(["token-price-history",{address:s.address.toString(),network:(0,eE.WX)(s.chain),period:tD[a]}],async()=>{let e=s.address,t=await tU({chain:s.chain,tokenAddress:s.address.toString(),period:tD[a]});return{data:{res:t,interval:a,address:e}}},{enabled:b,refetchInterval:y(),retry:2,retryDelay:3e3,staleTime:y(),onError:()=>{j.current.push(s.address.toString())},onSuccess:e=>{var t;let{data:n}=e;(null===(t=n.res)||void 0===t?void 0:t.error)==="Token not found."&&(j.current.push(s.address.toString()),d(n.res.error))}}),S=j.current.includes(s.address.toString()),Z=(0,C.useRef)(h);(0,C.useEffect)(()=>{if(S)d("Token price history is not available for this token."),x(void 0),_(void 0);else{var e,t;if(!k||T||O||!N||(null==N?void 0:null===(t=N.data)||void 0===t?void 0:null===(e=t.res)||void 0===e?void 0:e.error))(null==N?void 0:N.data.res.error)&&(d(N.data.res.error),x(void 0),_(void 0));else{let e=N.data.res.data.map(e=>({intervalStartMs:e.timestampMs,priceUsd:Number(e.price)}));x({interval:N.data.interval,address:N.data.address,prices:e}),f&&v.current&&(g&&clearTimeout(g.current),g.current=setTimeout(()=>{var e;null===(e=v.current)||void 0===e||e.call(v),v.current=void 0},1500)),o&&d(null)}}},[o,k,T,O,N,f,h,S]);let E=(0,C.useCallback)((e,t,n)=>{var l;if(!(0,tT.RZ)(n,c.current))return;let r=(0,tT.Bf)(n),o=null!==(l=h[r])&&void 0!==l?l:[],d=15e3*Math.floor(t/15e3),u=o[o.length-1];u?u.intervalStartMs<d?(u.intervalLatestMs=u.intervalStartMs,o.push({intervalLatestMs:t,intervalStartMs:d,priceUsd:e})):(u.priceUsd=e,u.intervalLatestMs=t):o.push({intervalLatestMs:t,intervalStartMs:d,priceUsd:e}),m({...h,[r]:o});let x=c.current!==s,p=i.current!==a;f||x||p||(Z.current={...h,[r]:[...o]})},[h,f,s,a]),[M,A]=(0,C.useState)(void 0),I=(0,C.useRef)(M),[R,_]=(0,C.useState)(void 0),P=(0,C.useRef)(0);(0,C.useEffect)(()=>{var e;if(!R||S){A(void 0),I.current=void 0;return}if(I.current&&function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<Math.max(e.length,t.length);r++){var n,s,l,a;if((null===(n=e[r])||void 0===n?void 0:n.price)!==(null===(s=t[r])||void 0===s?void 0:s.price)||(null===(l=e[r])||void 0===l?void 0:l.time)!==(null===(a=t[r])||void 0===a?void 0:a.time))return!1}return!0}(R,I.current)||Date.now()-P.current<350)return;P.current=Date.now();let t=null===(e=R[R.length-1])||void 0===e?void 0:e.time,n=t?t-tW[a]:0,s=R.filter(e=>e.time>n);A(s),I.current=s},[S,a,R]),(0,C.useEffect)(()=>{var e;let t=c.current!==s,n=i.current!==a;if(i.current=a,c.current=s,(t||n)&&(p(!0),v.current=()=>{p(!1),Z.current=h},g&&clearTimeout(g.current),g.current=setTimeout(()=>{v.current&&v.current()},3e3)),!u||u.interval!==a||u.address.toString()!==s.address.toString())return;let l=null!==(e=Z.current[(0,tT.Bf)(s)])&&void 0!==e?e:[],r={};for(let e of l){let t=Math.floor(e.intervalStartMs/tz[a])*tz[a];(!r[t]||r[t].intervalStartMs<e.intervalStartMs)&&(r[t]=e)}let o={};for(let e of Object.values(r)){let t=Math.floor(e.intervalStartMs/tz[a])*tz[a];o[t]={time:e.intervalStartMs,displayTime:e.intervalLatestMs,price:e.priceUsd}}for(let e of u.prices){let t=Math.floor(e.intervalStartMs/tz[a])*tz[a];o[t]||(o[t]={time:e.intervalStartMs,displayTime:e.intervalStartMs,price:e.priceUsd})}let d=Object.values(o).sort((e,t)=>e.time-t.time);_(d)},[h,u,f,a,i,s,T,O]);let F=(0,C.useMemo)(()=>(null==M?void 0:M.length)?Number(M[M.length-1].price):void 0,[M]),B=(0,C.useMemo)(()=>(null==M?void 0:M.length)?Number(M[0].price):void 0,[M]),U=(0,C.useMemo)(()=>(null==M?void 0:M.length)?Number(Math.min(...M.map(e=>e.price))):void 0,[M]),V=(0,C.useMemo)(()=>(null==M?void 0:M.length)?Number(Math.max(...M.map(e=>e.price))):void 0,[M]),H=(0,C.useMemo)(()=>!F||!B||F>.999*B,[F,B]),D=(0,C.useMemo)(()=>({setReceivedTokenPrice:E,priceHistoryData:M,setChartDataToken:l,chartDataToken:s,isFetchingChartData:(T||O)&&b,interval:a,setInterval:r,currentTokenPriceAgainstUsd:F,firstTokenPriceAgainstUsd:B,intervalMaxPrice:V,intervalMinPrice:U,isUpwardPriceTrend:H,error:o,fetchTokenPriceHistoryEnabled:b}),[a,T,O,M,E,s,H,F,B,V,U,o,b]);return(0,w.jsx)(tV,{value:D,children:t})}var tq=n(35631),tX=n(73738),tY=n(26819),tK=n(85871),t$=n(28879),tJ=n.n(t$),tQ=n(5126);let t0="welcome-to-exchange-last-shown";function t1(e){let{isOpen:t,onRequestClose:n,pageTheme:s,showAsInline:l,onContinue:a}=e,r=(0,tg.$3)(),{theme:i}=(0,eN.F)();return(0,C.useEffect)(()=>{t&&(0,tQ.qy)(t0,1e3*tJ()().unix())},[t]),(0,w.jsx)(w.Fragment,{children:l?(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("form",{className:"flex max-w-full flex-col items-stretch gap-5 overflow-hidden",children:(0,w.jsxs)("div",{className:"flex flex-1 flex-col gap-10",children:[(0,w.jsxs)("div",{className:"flex flex-1 flex-col items-center justify-center gap-5",children:[(0,w.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,w.jsxs)("div",{className:"flex w-full items-center ",children:[(0,w.jsx)("button",{"data-testid":"back-action-button",className:"rounded-[4px] text-gray-0_75 hover:text-gray-2",onClick:n,children:(0,w.jsx)(ed.Z,{className:"light"===i?"text-gray-0_75":"text-gray-1"})}),(0,w.jsx)("div",{className:"mr-[28px] flex w-full items-center justify-center text-center text-md font-bold leading-[20px] text-gray-10",children:"Welcome to Hashflow"})]}),(0,w.jsx)("div",{className:"text-center text-sm text-gray-4",children:"The future of trading begins here. Trade any asset on any chain in seconds, simply by connecting your wallet."})]}),(0,w.jsxs)("ol",{className:"flex w-full flex-col gap-5",children:[(0,w.jsxs)("li",{className:"flex items-center gap-3",children:[(0,w.jsx)("div",{className:"flex h-10 w-10 flex-none items-center justify-center rounded-full bg-gray-0_5 text-sm text-gray-10",children:"1"}),(0,w.jsx)("div",{className:"text-sm text-gray-7",children:"Connect your wallet."})]}),(0,w.jsxs)("li",{className:"flex items-center gap-3",children:[(0,w.jsx)("div",{className:"flex h-10 w-10 flex-none items-center justify-center rounded-full bg-gray-0_5 text-sm text-gray-10",children:"2"}),(0,w.jsx)("div",{className:"text-sm text-gray-7",children:"Select your trading pair and enter how much you’d like to buy or sell."})]}),(0,w.jsxs)("li",{className:"flex items-center gap-3",children:[(0,w.jsx)("div",{className:"flex h-10 w-10 flex-none items-center justify-center rounded-full bg-gray-0_5 text-sm text-gray-10",children:"3"}),(0,w.jsx)("div",{className:"text-sm text-gray-7",children:"Confirm the trade."})]})]})]}),(0,w.jsx)(en.Z,{testId:"welcome-hashflow-button",onClick:()=>{n(),a&&a()},size:"exchange-v2"===s?"unset":void 0,className:k()("exchange-v2"===s&&"rounded p-[12px] text-[14px] leading-[16px]"),children:"Continue"})]})})}):(0,w.jsx)(eg.Z,{isOpen:t,onRequestClose:n,pageTheme:s,children:(0,w.jsxs)("form",{className:"flex max-w-full flex-col items-stretch gap-5 overflow-hidden",children:[(0,w.jsx)(eg.Z.Header,{closeButtonType:"exchange-v2"===s?"square":void 0}),(0,w.jsxs)("div",{className:"flex flex-1 flex-col gap-10",children:[(0,w.jsxs)("div",{className:"flex flex-1 flex-col items-center justify-center gap-5",children:[(0,w.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,w.jsx)("div",{className:"text-center text-lg text-gray-10",children:"Welcome to Hashflow"}),(0,w.jsx)("div",{className:"text-center text-sm text-gray-4",children:"The future of trading begins here. Trade any asset on any chain in seconds, simply by connecting your wallet."})]}),(0,w.jsxs)("ol",{className:"flex w-full flex-col gap-5",children:[(0,w.jsxs)("li",{className:"flex items-center gap-3",children:[(0,w.jsx)("div",{className:"flex h-10 w-10 flex-none items-center justify-center rounded-full bg-gray-0_5 text-sm text-gray-10",children:"1"}),(0,w.jsx)("div",{className:"text-sm text-gray-7",children:"Connect your wallet."})]}),(0,w.jsxs)("li",{className:"flex items-center gap-3",children:[(0,w.jsx)("div",{className:"flex h-10 w-10 flex-none items-center justify-center rounded-full bg-gray-0_5 text-sm text-gray-10",children:"2"}),(0,w.jsx)("div",{className:"text-sm text-gray-7",children:"Select your trading pair and enter how much you’d like to buy or sell."})]}),(0,w.jsxs)("li",{className:"flex items-center gap-3",children:[(0,w.jsx)("div",{className:"flex h-10 w-10 flex-none items-center justify-center rounded-full bg-gray-0_5 text-sm text-gray-10",children:"3"}),(0,w.jsx)("div",{className:"text-sm text-gray-7",children:"Confirm the trade."})]})]})]}),(0,w.jsx)(en.Z,{testId:"welcome-hashflow-button",onClick:()=>{n(),r()},size:"exchange-v2"===s?"unset":void 0,className:k()("exchange-v2"===s&&"rounded p-[12px] text-[14px] leading-[16px]"),children:"Continue"})]})]})})})}var t2=n(437),t4=n(22650),t3=n(38113),t5=n(26533),t6=n(33589),t8=n(17417),t7=n(424),t9=n(88943),ne=n(48935),nt=n(5632),nn=n(60715);function ns(e,t,n){let s=e.wallet?n[(0,tT.Bf)(t)]:void 0;if(!s)return;let l=(0,tC.UK)(null!=s?s:ne.xE,t.decimals),a=(0,tC.Bw)(l,tb.Df);return a}function nl(e){var t,n,s,l,a,r,i,c,o,d,u,x,h,m,f,p,v,g,y,j,b,N,T;let O;let{isMobileViewport:S}=e,Z=(0,R.Gc)(),{theme:E}=(0,eN.F)(),{currentWallet:M,availableChains:A,switchNetwork:I,pastEvmWallets:B,pastSolanaWallets:V}=(0,ea.OZ)(),{setPreferredPair:z,quoteWallet:G}=(0,L.AK)(),{featureAccess:Y,tradeRestriction:K,setWalletAccess:J}=(0,e5.r)(),Q=(0,e8.U)(A,{showSolana:Y.solana,showTestnets:(0,e6.Mp)()}),{isUpwardPriceTrend:ed}=tH(),eu=(0,nt.useRouter)(),ex=(0,F.F)(),[eh,em]=(0,C.useState)(!1);(0,C.useEffect)(()=>{ex.result?setTimeout(()=>{em(!0)},200):em(!1)},[ex.result]);let[ef,ep]=(0,C.useState)(!1);(0,C.useEffect)(()=>{ex.result?ep(!0):"idle"===ex.status&&ef&&setTimeout(()=>{ep(!1)},5e3)},[ex.result,ex.status,ef]);let ev=(0,C.useRef)(0);(0,C.useEffect)(()=>{let e=setInterval(()=>{ex.result&&ev.current<=10&&(ex.reset(),ex.fetch(ex.result.arguments),ev.current+=1)},750*t6.Ny);return()=>clearInterval(e)},[ex]);let eg=(0,_.W)(),{reset:ey,state:ew}=eg,[eb,ek]=(0,C.useState)(void 0),[eC,eT]=(0,C.useState)(!1),[eS,eZ]=(0,C.useState)({show:!1}),{baseToken:eM,baseAmount:eA,baseAmountString:eI,quoteToken:eR,quoteAmount:e_,quoteAmountString:eL,knownTokens:eP,getQuoteTokens:eF,selectedPairApis:eB,minTradeQuantity:eV,maxTradeQuantity:eH,minQuoteTradeQuantity:eD,maxQuoteTradeQuantity:ez}=(0,L.AK)();(0,C.useEffect)(()=>{ev.current=0},[eM,eR,eI,eL]);let{setBaseToken:eG,setQuoteToken:eq,swapTokens:eX,updateAmount:eK,updateBaseAmountToMax:e$}=(0,tw.Z)(),eJ=()=>{ey(),ex.reset()},{barterTradingPairContract:eQ,getPairApis:e0}=(0,U.Zd)(),e1=(0,C.useMemo)(()=>eP.filter(e=>(null==M?void 0:M.chain)&&(0,eE.O8)(e.chain,M.chain)&&e0(e,eR).length>0),[e0,eP,eR,null==M?void 0:M.chain]);(0,C.useEffect)(()=>{let e=e0(eM,eR);if(0===e.length){let e=eF(eM),t=function(e,t,n,s,l,a){for(let r of n.sort((e,n)=>Number((0,eE.O8)(n.chain,t.chain))-Number((0,eE.O8)(e.chain,t.chain))))if(r.chain.chainType===e.chain.chainType||(null==s?void 0:s.address)&&r.chain.chainType===(null==s?void 0:s.chainType)||"evm"===r.chain.chainType&&l||"solana"===r.chain.chainType&&a)return r}(eM,eR,e,G,!!B.length,!!V.length);if((0,eE.O8)(eM.chain,eR.chain)){if(t){eq(t);return}e1[0]&&eG(e1[0])}else e1[0]&&eG(e1[0])}},[e0,eF,eM,eR,eG,eq,e1,G,B,V]);let e2=(0,C.useMemo)(()=>eF(eM).filter(e=>e0(eM,e).length>0),[eM,e0,eF]),e4=(0,C.useMemo)(()=>e2.filter(e=>(0,eE.O8)(e.chain,eR.chain)),[eR.chain,e2]),e3=(0,C.useMemo)(()=>{if(!(null==eb?void 0:eb.type))return[];if("base"===eb.type)return Q;let e=e2.map(e=>e.chain),t={};for(let n of e)t[(0,eE.WX)(n)]=n;let n=Object.values(t),s=Q.filter(e=>n.find(t=>(0,eE.O8)(t,e)));return[...s,eR.chain]},[null==eb?void 0:eb.type,Q,eR.chain,e2]),e9=(0,C.useRef)(e4);(0,C.useEffect)(()=>{e9.current!==e4&&(e9.current=e4,(null==eb?void 0:eb.type)==="quote"&&ek({...eb,tokens:e4}))},[e4,e9,eb,ek]);let{balances:te}=(0,el.ln)(),[tt,tn]=(0,C.useState)(!1),[ts,ta]=(0,C.useState)(!1),[tr,ti]=(0,C.useState)(!1),[tc,to]=(0,C.useState)(!1),[td,tu]=(0,C.useState)(!1),[tx,th]=(0,C.useState)(!1),[tm,tp]=(0,C.useState)(null),[tv,tg]=(0,C.useState)(null),[ty,tj]=(0,C.useState)(null),[tb,tk]=(0,C.useState)(!1),{availableSelectedLiquiditySources:tO}=(0,P.wA)(),tZ=(0,t7.Z)(M);tZ&&(tk(!1),tj(null));let tM=(0,C.useRef)(null),[tA,tI]=(0,C.useState)(!1),[tF,tB]=(0,C.useState)(!1);(0,C.useEffect)(()=>{var e;let t=null,n=null;eA.isGreaterThan(null!==(e=te[(0,tT.Bf)(eM)])&&void 0!==e?e:0)&&(t="Insufficient balance"),eA.isEqualTo(eA.decimalPlaces(0))||(t="Too many decimals"),e_.isEqualTo(e_.decimalPlaces(0))||(n="Too many decimals"),!eA.isZero()&&eV&&eV.toNumber()>(0,tC.UK)(eA,eM.decimals)&&!t&&(t="Min trade amount is ".concat((eV.gt(1)?eV.precision(5,D.Z.ROUND_UP):eV.precision(2,D.Z.ROUND_UP)).toFixed()," ").concat(eM.name)),eH&&eH.toNumber()<(0,tC.UK)(eA,eM.decimals)&&(t="Max trade amount is ".concat((eH.gt(1)?eH.precision(5):eH.precision(2)).toFixed()," ").concat(eM.name)),!e_.isZero()&&eD&&eD.toNumber()>(0,tC.UK)(e_,eR.decimals)&&!n&&(n="Min trade amount is ".concat((eD.gt(1)?eD.precision(5,D.Z.ROUND_UP):eD.precision(2,D.Z.ROUND_UP)).toFixed()," ").concat(eR.name)),ez&&ez.toNumber()<(0,tC.UK)(e_,eR.decimals)&&(n="Max trade amount is ".concat((ez.gt(1)?ez.precision(5):ez.precision(2)).toFixed()," ").concat(eR.name)),tp(t),tg(n),(null==M?void 0:M.address)&&K&&(tk(!1),tj({reason:K,setHasSubmittedAttestation:tk}))},[te,eA,eM,e_,K,M,eB,eV,eH,eD,ez,eR.decimals,eR.name]),(0,C.useEffect)(()=>{let e=new AbortController;return(async()=>{if(null==M?void 0:M.address)try{let{restricted:t,reason:n,access:s}=await (0,tY.UQ)(M.chain.chainType,M.address);if(e.signal.aborted)return;s&&J(s);let l=(0,tY.wG)(eu.pathname,n);t&&n&&!l&&(tk(!1),tj({reason:n,setHasSubmittedAttestation:tk}))}catch(e){}})(),()=>{e.abort()}},[eu.pathname,K,null==M?void 0:M.address,null==M?void 0:M.chain.chainType,J]);let tU=(0,C.useMemo)(()=>eB.length>0?null:new tN.Yz,[eB]),[tV,tD]=(0,C.useState)(!1),{setShowFiatOnrampModal:tW,purchasableMoonpayCurrencies:tz}=(0,tq.D)(),tG=Array.isArray(tz)&&tz.length,t$=M?ns(M,eM,te):void 0,tJ=M?ns(M,eR,te):void 0,ne=(0,C.useMemo)(()=>null!==(p=M&&"evm"===M.chain.chainType&&ex.result?ex.result.apiType===t9.I.BARTER?null==eQ?void 0:eQ[M.chain.chainId]:H.contractAddressesByNetwork.router[eE.Wh[M.wallet.hashflow.contracts.chainId]].address:void 0)&&void 0!==p?p:"",[M,ex.result,eQ]),nl=(0,C.useMemo)(()=>M&&"evm"===M.chain.chainType&&[{contract:H.contractAddressesByNetwork.router[eE.Wh[M.wallet.hashflow.contracts.chainId]].address,contractType:"api"},{contract:null!==(v=null==eQ?void 0:eQ[e7.QX.chainId])&&void 0!==v?v:"",contractType:"barter"},{contract:null!==(g=null==eQ?void 0:eQ[e7.PO.chainId])&&void 0!==g?g:"",contractType:"barter"}]||[{contract:"",contractType:"barter"},{contract:"",contractType:"apiV3"}],[M,eQ]),na=(null==ew?void 0:null===(t=ew.data)||void 0===t?void 0:t.transactionId)&&(ew.type===t3.aj||ew.type===t5.Yo||ew.type===t4.d),nr=(null==ew?void 0:null===(n=ew.data)||void 0===n?void 0:n.transactionId)&&ew.type===t2.CF;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"min-w-[268px]",children:tx?(0,w.jsx)(t1,{isOpen:tx,onRequestClose:()=>th(!1),pageTheme:"exchange-v2",showAsInline:!0,onContinue:()=>eZ({show:!0})}):eS.show?(0,w.jsx)(tf,{passedMinHeight:360,isOpen:eS.show,chain:void 0,onClickClose:()=>eZ({show:!1}),title:"Connect ".concat((null===(s=eS.chain)||void 0===s?void 0:s.chainType)==="evm"?"EVM ":(null===(l=eS.chain)||void 0===l?void 0:l.chainType)==="solana"?"Solana ":"","Wallet")}):ty&&M&&!tb?(0,w.jsx)(tY.ZP,{showAsInline:!0,setHasSubmittedAttestationExchange:tk}):na?(0,w.jsx)(ej.ZP,{transactionId:null==ew?void 0:null===(a=ew.data)||void 0===a?void 0:a.transactionId,chain:eM.chain,onClickClose:eJ}):nr?(0,w.jsx)(tL.ZP,{transactionId:null==ew?void 0:null===(r=ew.data)||void 0===r?void 0:r.transactionId,srcChain:eM.chain,dstChain:eR.chain,onClickClose:eJ}):"large"===Z&&(eb||eC)?(0,w.jsx)(tR,{refProp:tM,onChange:null!==(y=null==eb?void 0:eb.onChange)&&void 0!==y?y:()=>{},tokens:null!==(j=null==eb?void 0:eb.tokens)&&void 0!==j?j:[],title:null!==(b=null==eb?void 0:eb.title)&&void 0!==b?b:"",type:null!==(N=null==eb?void 0:eb.type)&&void 0!==N?N:"base",networks:e3,onClickClose:()=>{eT(!0),setTimeout(()=>{ek(void 0),eT(!1)},150)},includeOpeningTransitionAnimation:!0,applyClosingTransitionAnimation:eC,isOpen:eb&&"large"===Z}):tc?(0,w.jsx)(tP.ZP,{onClickBack:()=>to(!1),gasEstimate:(null===(i=ex.result)||void 0===i?void 0:i.type)==="wrap-unwrap-token"?ex.result.gasEstimate:(null===(c=ex.result)||void 0===c?void 0:c.type)==="cross-network-trade"||(null===(o=ex.result)||void 0===o?void 0:o.type)==="single-network-trade"?null===(d=ex.result.hashflowQuote)||void 0===d?void 0:d.gasEstimate:void 0}):tt?(0,w.jsx)(eU,{token:tt,onClickGasOptions:()=>to(!0),onClickBack:()=>tn(!1),contract:ne}):ts?(0,w.jsx)(eY,{token:ts,onClickGasOptions:()=>to(!0),onClickBack:()=>ta(!1),contract:ne}):tr?(0,w.jsx)(eW,{token:tr,baseAmount:eA,quoteToken:eR,onClickGasOptions:()=>to(!0),onClickBack:()=>{ta(!1),ti(!1)},contract:ne,showRevokeAllowancePanel:e=>{ti(!1),ta(e)}}):(0,w.jsx)("form",{onSubmit:e=>e.preventDefault(),className:k()("large"===Z&&"ml-[-5px]"),children:(0,w.jsxs)("div",{className:"flex flex-col items-stretch gap-[10px]",children:[(0,w.jsxs)("div",{className:"flex items-center justify-between pl-[4px]",children:[(0,w.jsx)("div",{className:k()("font-bold sm:text-md lg:text-[12px] lg:leading-[14px]","light"===E?"text-gray-6":"text-gray-7"),children:"Selling"}),(0,w.jsxs)("div",{className:"flex items-center justify-end gap-[6px]",children:[eR.chain.chainType!==eM.chain.chainType?(0,w.jsx)(es.p,{button:e=>{let{onMouseEnter:t,onMouseLeave:n,ref:s}=e;return(0,w.jsx)("button",{onMouseEnter:t,onMouseLeave:n,ref:s,type:"button",className:k()("group flex items-center gap-3 rounded-lg pr-[2px] outline-none"),children:(0,w.jsx)(eO.Z,{size:14,type:(null==M?void 0:M.identifier)||""})})},placement:"top",trigger:"hover",width:"auto",children:(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)(X.Z,{}),(0,w.jsx)("span",{className:"pl-[4px]",children:(0,tE.o)((null==M?void 0:null===(u=M.address)||void 0===u?void 0:u.toString())||"",6)})]})}):(0,w.jsx)(X.Z,{}),(0,w.jsx)("div",{className:k()("text-[10px] font-semibold leading-[14px]","light"===E?"text-gray-6":"text-gray-10"),children:M&&"".concat(null!=t$?t$:""," ").concat(eM.name)}),(null===(x=te[(0,tT.Bf)(eM)])||void 0===x?void 0:x.isZero())&&(!tG||tz.some(e=>e.code===eM.name))?(0,w.jsx)(en.Z,{style:"unstyled",size:"unset",className:"text-[10px] font-semibold leading-[14px] text-blue-6",onClick:()=>{tW(!0),(0,tl.XV)(tl.cC.EXCHANGE.BUY_CRYPTO_CLICKED),(0,t8.E)(t8.k.EXCHANGE.BUY_CRYPTO_CLICKED)},children:"Buy"}):M?(0,w.jsx)(en.Z,{style:"unstyled",size:"unset",className:"text-[10px] font-semibold leading-[14px] text-blue-6",onClick:e$,children:"Max"}):null,"production"!==e6.l_.HASHFLOW_ENV&&(0,w.jsxs)("div",{className:"relative",onClick:()=>tu(!0),children:[(0,w.jsx)(q,{className:"cursor-pointer stroke-gray-3",height:14,width:14}),tO&&(0,w.jsx)("div",{className:"absolute right-[-4px] top-[-4px] h-2 w-2 rounded-full bg-red-5"})]})]})]}),(0,w.jsxs)("div",{className:"flex flex-col items-stretch gap-[4px]",children:[(0,w.jsx)("div",{className:"flex flex-col gap-2",children:(0,w.jsx)(tX.Z,{token:eM,onSwitchTokenClick:()=>ek({onChange:e=>{eG(e),ep(!1)},tokens:e1,title:"Select Token",type:"base"}),value:eI,onChange:e=>{eK("base",e),(0,tl.XV)(tl.cC.EXCHANGE.SELL_TOKEN_INPUT_CHANGE)},hideBalanceLabel:!0,error:null!=tm?tm:void 0,disabled:!M,selectTokenButtonStyle:"exchange-v2",containerClassName:"bg-transparent border-none p-0",pageTheme:"exchange-v2",selectTokenArrowIcon:(0,w.jsx)(W.Z,{className:k()("light"===E?"text-gray-6":"text-gray-7")}),chain:eM.chain,includeUSDValue:!0})}),(0,w.jsxs)("div",{className:"relative flex w-[calc(100%-4px)] flex-col items-center justify-center self-center pl-[4px]",children:[(0,w.jsx)("div",{className:"absolute top-[14px] h-px w-full bg-gray-0_75"}),(0,w.jsx)("button",{className:k()("flex items-center justify-center self-center justify-self-center rounded-full bg-gray-0_5","group z-10 outline-none transition-transform disabled:cursor-not-allowed","text-gray-0_75 hover:text-gray-2",{"pointer-events-none":!M,"rotate-180":tV}),onClick:()=>{if(M&&!(0,eE.O8)(M.chain,eR.chain)){z(eR,eM,nn.C.RFQT),I(eR.chain,()=>{eZ({show:!0,chain:eR.chain})});return}tD(e=>!e),eX(),(0,tl.XV)(tl.cC.EXCHANGE.SWAP_TOKEN_BUTTON_CLICK)},disabled:!M,"aria-label":"Swap trade order",type:"button",children:"light"===E?(0,w.jsx)(ee,{}):(0,w.jsx)($,{})})]}),(0,w.jsxs)("div",{className:"mb-[6px] flex flex-col",children:[(0,w.jsxs)("div",{className:"flex items-center justify-between pb-[10px] pl-[4px]",children:[(0,w.jsx)("div",{className:k()("font-bold sm:text-md lg:text-[12px] lg:leading-[14px]","light"===E?"text-gray-6":"text-gray-7"),children:"Buying"}),(0,w.jsxs)("div",{className:"flex items-center justify-end gap-[6px]",children:[eR.chain.chainType!==eM.chain.chainType?(0,w.jsx)(es.p,{button:e=>{let{onMouseEnter:t,onMouseLeave:n,ref:s}=e;return(0,w.jsx)("button",{onMouseEnter:t,onMouseLeave:n,ref:s,type:"button",className:k()("group flex items-center gap-3 rounded-lg pr-[2px] outline-none"),children:(0,w.jsx)(eO.Z,{size:14,type:(null==G?void 0:G.identifier)||""})})},placement:"top",trigger:"hover",width:"auto",children:(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)(X.Z,{}),(0,w.jsx)("span",{className:"pl-[4px]",children:(0,tE.o)((null==G?void 0:G.address)||"",6)})]})}):(0,w.jsx)(X.Z,{}),(0,w.jsx)("div",{className:k()("text-[10px] font-semibold leading-[14px] text-gray-10","light"===E?"text-gray-6":"text-gray-10"),children:M&&"".concat(tJ||""," ").concat(eR.name)})]})]}),(0,w.jsx)(tX.Z,{token:eR,onSwitchTokenClick:()=>ek({onChange:e=>{eq(e),ep(!1)},tokens:e4,title:"Select Token",type:"quote"}),value:eL,onChange:e=>{eK("quote",e),(0,tl.XV)(tl.cC.EXCHANGE.BUY_TOKEN_INPUT_CHANGE)},hideBalanceLabel:!0,error:null!=tv?tv:void 0,disabled:!M,selectTokenButtonStyle:"exchange-v2",pageTheme:"exchange-v2",containerClassName:"bg-transparent border-none p-0",selectTokenArrowIcon:(0,w.jsx)(W.Z,{className:k()("light"===E?"text-gray-6":"text-gray-7")}),chain:eR.chain,includeUSDValue:!0})]})]}),"idle"===ex.status&&(null===(h=ex.result)||void 0===h?void 0:h.error)?(0,w.jsx)(ec.Z,{error:ex.result.error,className:"ml-[4px]"}):tU?(0,w.jsx)(ec.Z,{error:tU,className:"ml-[4px]"}):void 0!==ex.result?(0,w.jsx)(w.Fragment,{}):null,(0,w.jsxs)("div",{className:"flex flex-col overflow-hidden pl-[4px] transition-all duration-200",style:{height:(T=void 0!==ex.result&&!ex.result.error||ef,O=0,T&&(O+=72),tA&&(O+=56),tO&&(O+=20),tF&&(O+=56),O)},children:[(0,w.jsx)("div",{children:(0,w.jsx)("div",{className:"h-[1px] w-full bg-gray-0_75"})}),(0,w.jsx)("div",{className:k()("pt-[16px]",eh||ef?"opacity-100":"opacity-0"),children:(0,w.jsx)(ei.Z,{exchangeVersion:"v2",isGasChangerOpen:tA,setIsGasChangerOpen:tI,isSlippageChangerOpen:tF,setIsSlippageChangerOpen:(null===(m=ex.result)||void 0===m?void 0:m.apiType)===t9.I.BARTER||(null===(f=ex.result)||void 0===f?void 0:f.apiType)===t9.I.JUPITER?tB:void 0})})]}),(0,w.jsx)("div",{className:(0,tS.m)("flex-1 pl-[4px]",S&&"absolute bottom-0 w-[calc(100%-40px)] pl-0"),children:(0,w.jsx)(er.Z,{inactiveText:"Trade",buttonProps:{style:ed?"exchange-v2-green":"exchange-v2-red",size:"medium",className:k()("text-[14px] leading-[20px] min-h-[40px]",!M&&"bg-blue-5 text-dark-gray-10 hocus:bg-blue-6")},onShowAddAllowance:e=>tn(e),onShowRevokeAllowance:e=>{ta(e)},onShowIncreaseAllowance:e=>ti(e),onShowConnectWallet:()=>{("/"!==eu.pathname||(0,tQ.Fz)(t0)?1:0)?eZ({show:!0}):th(!0)}})})]})})}),eb&&"small"===Z&&(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(t_,{onRequestClose:()=>ek(void 0),isOpen:"small"===Z&&!!eb,onChange:eb.onChange,tokens:eb.tokens,title:eb.title,type:eb.type,networks:e3})}),M&&(0,w.jsx)(et.He,{token:eM,contractsWithType:nl,currentContract:ne}),K&&ty&&M&&!tb&&(0,w.jsx)(tK.Z,{isOpen:!!K,walletAddress:M.address,chain:M.chain,tradeRestriction:K,setHasSubmittedAttestation:ty.setHasSubmittedAttestation,pageTheme:"exchange-v2"}),(0,w.jsx)(eo.Z,{isOpen:td,onRequestClose:()=>tu(!1),pageTheme:"exchange-v2"})]})}var na=n(69740),nr=n(99585),ni=n(59466);let nc=["day","week","month"],no={live:"LIVE",day:"1D",week:"1W",month:"1M",year:"1Y",all:"All"},nd={live:"Past Hour",day:"Past Day",week:"Past Week",month:"Past Month",year:"Past Year",all:"All Time"},nu={live:"1-Hour",day:"1-Day",week:"1-Week",month:"1-Month",year:"1-Year",all:"All-Time"};function nx(e){let{value:t,onChange:n,intervalValues:s,tabUnderlineColor:l}=e;return(0,w.jsx)(I.Z,{value:t,onChange:n,size:"2xs-small",gap:"gap-[16px]",children:(null!=s?s:nc).map(e=>(0,w.jsx)(I.Z.Tab,{label:e,tabUnderlineColor:l,children:"LIVE"===no[e]?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:k()("absolute ml-[-8px] mr-[4px] mt-[4px] h-[5px] w-[5px] rounded-full",{"bg-gray-10":t===e,"bg-gray-4":t!==e})}),(0,w.jsx)("div",{className:"flex items-center",children:no[e]})]}):(0,w.jsx)(w.Fragment,{children:no[e]})},e))})}var nh=n(76027),nm=["title","titleId"];function nf(){return(nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}var np=function(e){var t=e.title,n=e.titleId,s=function(e,t){if(null==e)return{};var n,s,l=function(e,t){if(null==e)return{};var n,s,l={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(e,nm);return C.createElement("svg",nf({viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},s),t?C.createElement("title",{id:n},t):null,y||(y=C.createElement("g",{clipPath:"url(#icon-square-stack_svg__a)",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},C.createElement("path",{d:"M9.625 1.375h-8.25v8.25h8.25v-8.25Z"}),C.createElement("path",{d:"M11.125 4.375h1.5v8.25h-8.25v-1.5"}))),j||(j=C.createElement("defs",null,C.createElement("clipPath",{id:"icon-square-stack_svg__a"},C.createElement("path",{fill:"#fff",d:"M0 0h14v14H0z"})))))},nv=n(70933);async function ng(e){if(!e)throw Error("Token stats not found");let t=await ty.Z.get("/client/market-stats",{params:{chainType:e.chain.chainType,chainId:String(e.chain.chainId),address:e.address.toString()}});return t.data}var ny=n(93911),nj=n(96785),nw=n(39382);function nb(e){let{url:t,tokenAddress:n,theme:s}=e,l=(0,ny.Z)(n),[a,r]=(0,C.useState)(!1);return(0,C.useEffect)(()=>{a&&setTimeout(()=>{r(!1)},1500)},[a]),(0,w.jsxs)("div",{className:"flex max-h-[40px] gap-[1px]",children:[(0,w.jsx)(en.b,{className:k()("flex items-start justify-start gap-3 rounded-bl rounded-tl"),style:"unstyled",size:"unset",href:t,children:(0,w.jsx)("div",{className:"relative flex items-center justify-start",children:(0,w.jsx)("div",{className:"relative flex items-start justify-start gap-2.5 p-2.5 pr-0",children:(0,w.jsxs)("div",{className:k()("w-[86px] self-stretch text-left text-[11px]","text-gray-3"),children:[n.slice(0,7),"...",n.slice(n.length-4)]})})})}),(0,w.jsx)("button",{style:{stroke:"light"===s?"#5F6F89":"#778396",color:"light"===s?"#5F6F89":"#778396"},onClick:()=>{l(),r(!0)},type:"button",className:k()("relative flex min-w-[38px] items-center justify-center gap-2 rounded-br rounded-tr p-2.5 pl-0"),children:(0,w.jsx)("div",{className:k()("h-[12px] w-[12px]","light"===s?"color-gray-10":"color-gray-3"),children:a?(0,w.jsx)(nh.Z,{className:k()("light"===s?"color-gray-10":"color-gray-3")}):(0,w.jsx)(np,{className:k()("light"===s?"color-gray-10":"color-gray-3")})})})]})}function nN(e){var t;let{title:n,value:s,prefix:l,valueChangePct:a,treatZeroAsUndefined:r,isLoading:i,error:c,useAnimatedValue:o}=e,{theme:d}=(0,eN.F)(),u=r?"0"!==s:s&&l,x="0"!==s,h=e=>","===e?"pl-[1px] text-sm":"text-sm",m=(e,t)=>","===t&&"1"===e?"pl-[-1px]":"."===t&&"1"===e?"pr-[-1px]":void 0;return(0,w.jsxs)("div",{style:{wordBreak:"break-word"},className:k()("relative flex flex-grow flex-col items-start justify-start gap-1","min-h-[60px]"," overflow-hidden"),children:[(0,w.jsx)("div",{className:"fade-in-text text-left text-[12px] uppercase leading-[14px] text-gray-3",children:n},n),i?(0,w.jsx)("div",{className:"flex flex-col",children:(0,w.jsx)(nv.Z,{type:"long",width:100,height:10})}):(0,w.jsx)(w.Fragment,{children:!c&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"text-left text-sm font-bold text-gray-6",children:[u&&l,"0"===s?r?"-":"0":s?o?(0,w.jsx)("div",{className:"flex",children:s.split("").map((e,n)=>(0,w.jsx)(nj.ZP,{height:13,width:9,duration:1,color:"var(--color-gray-6)",background:"transparent",play:!0,perspective:100,numbers:e,numberClassName:m(e,null!==(t=s.split("")[0===n?0:n-1])&&void 0!==t?t:""),nonNumberClassName:h(e)},n))}):s:"-"]},s),"number"==typeof a&&x&&(0,w.jsxs)("div",{className:k()("text-left text-sm","flex",a>=0?"text-green-7":"light"===d?"text-red-5":"text-red-7"),children:[(0,w.jsx)("div",{className:"mr-[2px]",children:a>0?"↑":"↓"}),(0,w.jsx)(nj.ZP,{height:13,width:9,duration:1,color:"var(--color-gray-6)",background:"transparent",numberClassName:"text-sm",play:!0,perspective:100,numbers:(0,tC.Bw)(Math.abs(a),2,2)}),"%"]})]})})]})}let nk=Intl.NumberFormat("en",{notation:"compact",maximumFractionDigits:2});function nC(e){return"number"==typeof e?nk.format(e):"string"==typeof e?e:void 0}function nT(e){var t,n,s,l;let{isMobileViewport:a}=e,{chartDataToken:r,interval:i,currentTokenPriceAgainstUsd:c,error:o,intervalMinPrice:d,intervalMaxPrice:u}=tH(),{theme:x}=(0,eN.F)(),h=(0,C.useMemo)(()=>{let e=(e,t)=>0===c?e:0===e?-1*t:e/t*100-100;return[{title:"24h Volume",valueFieldName:"dailyVolumeUSD",prefix:"$"},{title:"".concat(nu[i]," Low"),error:o,valueToRender:d?(0,tC.Aw)(d):"-",valueChangePercent:d&&c?e(c,d):"-",useAnimatedValue:!0},{title:"".concat(nu[i]," High"),error:o,valueToRender:u?(0,tC.Aw)(u):void 0,valueChangePercent:u&&c?e(c,u):void 0,useAnimatedValue:!0},{title:"Market Cap",valueFieldName:"marketCapUSD",prefix:"$",treatZeroAsUndefined:!0},{title:"FDV",valueFieldName:"fullyDilutedValuationUSD",prefix:"$"},{title:"Circulating Supply",valueFieldName:"circulatingSupply"}]},[o,c,i,u,d]),m=(0,C.useRef)([]),f=!!(null==r?void 0:r.address.toString())&&!m.current.includes(r.address.toString()),{data:p,isLoading:v,isError:g}=(0,tF.a)(["market-stats",{address:null!==(t=null==r?void 0:r.address.toString())&&void 0!==t?t:"",chain:(null==r?void 0:r.chain)?(0,eE.WX)(r.chain):""}],async()=>await ng(r),{refetchInterval:6e4,enabled:f,retry:1,staleTime:6e4,onError:()=>{m.current.push(r.address.toString())},onSuccess:e=>{var t;(null==e?void 0:null===(t=e.error)||void 0===t?void 0:t.code)===nw.nI.NO_DATA&&m.current.push(r.address.toString())}}),y=m.current.includes(r.address.toString()),j=(0,R.Gc)();return(0,w.jsxs)("div",{className:k()("relative flex flex-col items-start justify-start gap-[20px]",a?"mt-[100px]":"mt-[80px]"),children:[(0,w.jsxs)("div",{className:k()("text-white w-full text-left text-[16px] font-semibold leading-[20px]","light"===x?"text-gray-6":"text-gray-7"),children:["About ",r.displayName]}),g||y?(0,w.jsx)("div",{className:"flex min-h-[200px] w-full flex-col items-center justify-center gap-3",children:(0,w.jsx)("div",{className:"text-center text-sm text-gray-4",children:"No token data found."})}):(0,w.jsx)(w.Fragment,{children:"large"===j?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"grid w-full sm:grid-cols-3 sm:gap-[100px] lg:grid-cols-3",children:h.slice(0,3).map((e,t)=>{var s;return(0,w.jsx)(nN,{error:null==e?void 0:e.error,isLoading:v&&f,prefix:e.prefix,title:e.title,treatZeroAsUndefined:e.treatZeroAsUndefined,value:null!==(n=null==e?void 0:e.valueToRender)&&void 0!==n?n:nC(null==p?void 0:null===(s=p.stats)||void 0===s?void 0:s[e.valueFieldName]),valueChangePct:null==e?void 0:e.valueChangePercent,useAnimatedValue:e.useAnimatedValue},"TokenMarketStat-".concat(t))})}),(0,w.jsx)("div",{className:"grid w-full sm:grid-cols-3 sm:gap-[100px] lg:grid-cols-3",children:h.slice(3,7).map((e,t)=>{var n;return(0,w.jsx)(nN,{error:null==e?void 0:e.error,isLoading:v&&f,prefix:e.prefix,title:e.title,treatZeroAsUndefined:e.treatZeroAsUndefined,value:null!==(s=null==e?void 0:e.valueToRender)&&void 0!==s?s:nC(null==p?void 0:null===(n=p.stats)||void 0===n?void 0:n[e.valueFieldName]),valueChangePct:null==e?void 0:e.valueChangePercent,useAnimatedValue:e.useAnimatedValue},"TokenMarketStat-".concat(t))})})]}):(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{className:"grid w-full sm:grid-cols-2 sm:gap-[24px]",children:h.slice(0,7).map((e,t)=>{var n;return(0,w.jsx)(nN,{error:null==e?void 0:e.error,isLoading:v&&f,prefix:e.prefix,title:e.title,treatZeroAsUndefined:e.treatZeroAsUndefined,value:null!==(l=null==e?void 0:e.valueToRender)&&void 0!==l?l:nC(null==p?void 0:null===(n=p.stats)||void 0===n?void 0:n[e.valueFieldName]),valueChangePct:null==e?void 0:e.valueChangePercent},"TokenMarketStat-".concat(t))})})})})]})}var nO=n(20651),nS=n(88521),nZ=n(41171),nE=n(99425),nM=n(12324),nA=n(33827),nI=n(75763);let nR=e=>{let[t]=e;return new Date(t)},n_=e=>{let[,t]=e;return t},nL=e=>{let{updateSetX:t,tooltipX:n}=e;return(0,C.useEffect)(()=>{t(n)},[n,t]),(0,w.jsx)(w.Fragment,{})};function nP(e){var t;let{width:n=480,height:s=240,data:l,minRangeFactor:a=0,chartLineColor:r,tooltipLineColor:i,backgroundColor:c,paddingY:o=10,paddingX:d=0,dropShadowColor:u,onPointerMove:x,onPointerOut:h,dateValueText:m}=e,f=(0,nI.C)(),[p,v]=(0,C.useState)(0),g=s-0,y=(0,C.useMemo)(()=>l.sort((e,t)=>nR(e)<nR(t)?-1:1),[l]),j=(0,C.useMemo)(()=>y.map(nR),[y]),b=(0,C.useMemo)(()=>y.map(n_),[y]),N=(0,C.useMemo)(()=>{var e,t;let s=f();return(0,nS.Z)({domain:[null!==(e=j[0])&&void 0!==e?e:s,null!==(t=j[j.length-1])&&void 0!==t?t:s],range:[0,n]})},[j,n,f]),k=(0,C.useMemo)(()=>{let e=Math.min(...b),t=Math.max(...b),n=e+(t-e)/2,s=Math.min(n*(1-a/2),e),l=Math.max(n*(1+a/2),t);return(0,nZ.Z)({domain:[s,l],range:[g,0]})},[a,b,g]),T=y.map(e=>{let[t,n]=e;return{x:t,y:n}}),O=document.querySelector(".visx-tooltip"),S=document.querySelector(".visx-tooltip-glyph"),Z=document.querySelector(".pseudoTooltip"),E=e=>{v(e)};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"test z-10 w-[200px] text-center text-2xs text-gray-4",style:{position:"absolute",left:(null!=p?p:100)-100,top:110},children:m}),(0,w.jsxs)(nE.Z,{height:s,width:n,margin:{top:o,right:d,bottom:o,left:d},xScale:{type:"time"},yScale:{type:"linear",zero:!1,domain:[g,0]},pointerEventsDataKey:"nearest",onPointerMove:e=>{O&&S&&(O.classList.remove("hidden"),S.classList.remove("hidden"),null==Z||Z.classList.remove("hidden")),x&&x(e)},onPointerOut:()=>{O&&S&&(O.classList.add("hidden"),null==Z||Z.classList.add("hidden"),S.classList.add("hidden")),h&&h()},children:[(0,w.jsx)(nM.Z,{className:"animate-none",style:{filter:"drop-shadow(0px 0px 7px ".concat(u)},dataKey:"Line 1",data:T,xAccessor:e=>N(null!==(t=e.x)&&void 0!==t?t:0),yAccessor:e=>{var t;return k(null!==(t=e.y)&&void 0!==t?t:0)},colorAccessor:()=>r,curve:nO.Z}),(0,w.jsx)(nA.Z,{showVerticalCrosshair:!0,showSeriesGlyphs:!0,showDatumGlyph:!0,snapTooltipToDatumX:!0,snapTooltipToDatumY:!0,glyphStyle:{fill:r,r:5,stroke:c,strokeWidth:2},verticalCrosshairStyle:{stroke:i},className:"hidden",renderTooltip:e=>{let{tooltipLeft:t}=e;return(0,w.jsx)(nL,{tooltipX:t,updateSetX:E})}})]})]})}let nF={live:.005,day:.01,week:.01,month:.02,year:.05,all:.05};function nB(e){let{baseToken:t,quoteToken:n,reverseTokens:s,isMobileViewport:l,nativeToken:a}=e,{theme:r}=(0,eN.F)();return(0,w.jsxs)("div",{className:k()("relative flex w-full items-center justify-between gap-2 self-stretch",l&&"flex-wrap"),children:[(0,w.jsxs)("div",{className:"relative flex items-center justify-start gap-2 self-stretch",children:[(0,w.jsxs)("div",{className:"relative flex items-center gap-[14px]",children:[t.chain&&(0,w.jsx)("div",{className:k()("absolute left-[20px] top-[20px]","rounded border-[2px] border-gray-0_25"),children:(0,w.jsx)(e3.Z,{chain:t.chain,size:12,displayType:"square"})}),(0,w.jsx)(eC.Z,{tokenName:t.name,size:32})]}),(0,w.jsx)("div",{className:k()("text-left font-medium","text-[20px]","dark"===r?"text-[#f0f2f5]":"text-gray-8"),children:t.name}),(0,w.jsx)("div",{className:"h-[40px]",children:t&&t.address.toString()!==a.address.toString()&&(0,w.jsx)(nb,{theme:r,url:(0,eE.T2)(t.chain,t.address.toString()),tokenChain:t.chain,tokenAddress:t.address.toString()})})]}),(0,w.jsxs)("div",{className:k()("relative flex cursor-pointer items-center justify-start gap-1 rounded border border-gray-1 px-[12px] py-[8px] hover:border-gray-2","stroke-gray-4  text-gray-4 hocus:stroke-gray-6  hocus:text-gray-6"),onClick:s,children:[(0,w.jsx)(nr.Z,{height:12,width:12}),(0,w.jsx)("div",{className:"select-none text-left text-[12px] font-semibold ",children:"Show ".concat(n.name)})]})]})}function nU(e){var t,n,s;let{currentTokenPriceAgainstUsd:l,selectedData:a}=e,{theme:r}=(0,eN.F)(),i=null!==(n=null==a?void 0:a.priceUsd)&&void 0!==n?n:l,c=i&&null!==(s=null===(t=Number(i).toFixed(0).split(".")[0])||void 0===t?void 0:t.length)&&void 0!==s?s:0,o=(0,C.useRef)(null),[d,u]=(0,C.useState)(i),[x,h]=(0,C.useState)(void 0);(0,C.useEffect)(()=>{if(void 0!==i&&void 0===d)u(i);else if(void 0!==i&&void 0!==d&&i!==d){let e;if(i>1){let t=Math.round(100*i)/100,n=Math.round(100*d)/100;e=t===n?void 0:t>n}else e=i===d?void 0:i>d;h(e),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{h(void 0),u(i)},1e3)}},[d,i]);let m=(e,t,n,s,l,a)=>{if(!n||s!==l)return k()("1"===e&&","===a&&"ml-[-4px]","1"===e&&"."===a&&"mr-[-4px]","text-gray-8");let i=e!==n.charAt(t);return i?x?"text-green-7":"light"===r?k()("1"===e&&","===a&&"ml-[-4px]","text-red-5"):k()("1"===e&&","===a&&"ml-[-4px]","text-red-7"):k()("1"===e&&","===a&&"ml-[-4px]","text-gray-8")},f=(e,t)=>","===e?"pl-[2px] text-lg":"."===e&&"1"===t?"pl-[-2px] text-lg":"text-lg",p=(0,C.useMemo)(()=>void 0!==i?c>2?(0,tC.Aw)(i,2,2):(0,tC.Aw)(i,2,12,5):"",[c,i]),v=(0,C.useMemo)(()=>void 0!==d?c>2?(0,tC.Aw)(d,2,2):(0,tC.Aw)(d,2,12,5):"",[c,d]);return void 0===i||isNaN(i)?(0,w.jsx)(w.Fragment,{}):(0,w.jsx)("div",{className:"flex items-center justify-start gap-[8px]",children:(0,w.jsxs)("div",{className:"flex h-[30px] items-center gap-[1px] overflow-hidden text-[19px] leading-[21px] transition-colors duration-150",children:[i<1&&(0,w.jsxs)("div",{className:"flex items-center",children:["$",(0,w.jsx)("div",{className:"text-[25px]",children:"0"}),"."]}),(i>=1?p:p.slice(3)).split("").map((e,t)=>{var n,s,a,r;return(0,w.jsx)(nj.ZP,{height:19,width:14,duration:1,color:"var(--color-gray-8)",background:"transparent",numberClassName:m(e,i>=1?t:t+3,v,i,l,i>=1?null!==(n=p[t>0?t-1:0])&&void 0!==n?n:"":null!==(s=p.slice(3)[t>0?t-1:0])&&void 0!==s?s:""),nonNumberClassName:f(e,i>=1?null!==(a=p[t>0?t-1:0])&&void 0!==a?a:"":null!==(r=p.slice(3)[t>0?t-1:0])&&void 0!==r?r:""),play:!0,perspective:100,numbers:e},t)})]})})}let nV={live:"h:mm:ss A",day:"h:mm A",week:"MMM D, h:mm A",month:"MMM D, h:mm A",year:"MMM D, YYYY",all:"MMM D, YYYY"};function nH(e){var t;let{interval:n,selectedData:s,currentTokenPriceAgainstUsd:l,firstTokenPriceAgainstUsd:a}=e,{theme:r}=(0,eN.F)(),i=null!==(t=null==s?void 0:s.priceUsd)&&void 0!==t?t:l,c=s?"":nd[n],o=i&&a?i/a*100-100:void 0,d="number"!=typeof o||void 0===o,u=(0,tC.Bw)(Math.abs(null!=o?o:0),2);return void 0!==i&&isNaN(i)?null:(0,w.jsx)("div",{className:"text-2xs text-gray-4",children:(0,w.jsxs)("div",{children:[!d&&(0,w.jsxs)("span",{className:k()("text-left text-xs",o>0?"text-green-7":0===o?"text-gray-4":"light"===r?"text-red-5":"text-red-7"),children:["0"!==u&&(o>0?"↑":"↓"),u,"%"]}),c&&(0,w.jsx)("span",{children:" ".concat(c)})]})})}function nD(e){var t;let{displayedBaseToken:n,displayedQuoteToken:s,reverseTokens:l,width:a,isMobileViewport:r}=e,{theme:i}=(0,eN.F)(),{baseToken:c,nativeToken:o}=(0,L.AK)(),{priceHistoryData:d,interval:u,setInterval:x,isFetchingChartData:h,firstTokenPriceAgainstUsd:m,currentTokenPriceAgainstUsd:f,isUpwardPriceTrend:p,error:v}=tH(),[g,y]=(0,C.useState)(void 0),j=(0,C.useCallback)(e=>(function(e,t){let n=tJ()(t);switch(e){case"all":return n.format("YYYY");case"year":return n.format("MMM DD, YYYY");case"month":case"week":return n.format("MMM DD");default:return 0===n.get("hour")?t.toLocaleDateString(void 0,{month:"numeric",day:"numeric"}):n.format("ha")}})(u,e),[u]),b=p?"light"===i?"#09996e":"#3BEBB6":"light"===i?"#e5176d":"#f06090",N=(0,C.useRef)(null);(0,C.useEffect)(()=>{let e=N.current;if(!e)return;let t=e=>{e.preventDefault()};return e.addEventListener("touchmove",t),()=>{e.removeEventListener("touchmove",t)}},[]);let T=(t=null==g?void 0:g.timestampMs)?tJ()(new Date(t)).format(nV[u]):"";return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"token-events-none flex flex-col items-stretch",style:{width:a},children:[(0,w.jsxs)("div",{className:"mb-[18px] min-h-[100px]",children:[(0,w.jsx)("div",{className:"flex w-full items-center justify-between",children:(0,w.jsxs)("div",{className:"flex w-full flex-col gap-[12px]",children:[c&&o&&(0,w.jsx)(nB,{nativeToken:o,baseToken:n,quoteToken:s,reverseTokens:l,isMobileViewport:r}),(0,w.jsx)(nU,{currentTokenPriceAgainstUsd:f,selectedData:g})]})}),"number"==typeof f?(0,w.jsx)(nH,{interval:u,currentTokenPriceAgainstUsd:f,firstTokenPriceAgainstUsd:m,selectedData:g}):"\xa0"]}),(0,w.jsx)("div",{ref:N,style:{overflowX:"hidden",height:300},className:k()("flex items-start justify-center"),children:d?d.length>=2&&a?(0,w.jsx)(nP,{dateValueText:T,dropShadowColor:"light"===i?p?"rgba(9, 153, 110, ".concat(.25,")"):"rgba(229, 23, 109, ".concat(.25,")"):p?"rgba(96, 240, 197,  ".concat(.25,")"):"rgba(240, 96, 144,  ".concat(.25,")"),data:d.map(e=>[e.time,e.price]),width:a,height:300,minRangeFactor:nF[u],formatXAxisDate:j,chartLineColor:b,onPointerMove:e=>{var t,n;d&&y({timestampMs:null!==(n=null===(t=d[e.index])||void 0===t?void 0:t.displayTime)&&void 0!==n?n:e.datum.x,priceUsd:e.datum.y})},onPointerOut:()=>y(void 0),tooltipLineColor:"light"===i?"#A6B3C5":"#96A2B4",backgroundColor:"light"===i?"#F9FBFE":"#171A1F"}):(0,w.jsx)("div",{className:"relative top-[30px] mt-[100px] items-center text-gray-4",children:"Not enough data to show graph."}):h?(0,w.jsx)("div",{className:"flex h-[250px] items-center",children:(0,w.jsx)(ni.Z,{})}):v?(0,w.jsx)("div",{className:"relative top-[30px] mt-[100px] items-center text-gray-4",children:"Not enough data to show graph."}):(0,w.jsx)(w.Fragment,{})})]}),(0,w.jsx)("div",{className:"flex justify-end border-b border-solid border-gray-0_75  pb-[16px] sm:self-start sm:pt-[6px]",children:(0,w.jsx)(nx,{value:u,onChange:x,intervalValues:["live","day","week","month","year","all"],tabUnderlineColor:b})})]})}var nW=n(77319),nz=n(23716);function nG(e,t){let n=(0,tb.Y4)(t),s=!1;if(!e)return!1;if("coingecko"===e.service&&(s=n.geckoListName===e.symbol),!s&&"pythnet"===e.service){var l;s=(null===(l=n.pythnetFeed)||void 0===l?void 0:l.symbol)===e.symbol}return s||(s=e.symbol.toUpperCase().includes(n.name.toUpperCase())),s}let nq="".concat(e6.l_.WS_API_URL,"/client"),nX="subscribeToPriceFeed";function nY(e){let{isMobileViewport:t}=e;!function(){let{currentWallet:e}=(0,ea.OZ)(),{setReceivedTokenPrice:t,chartDataToken:n}=tH(),s=(0,C.useRef)(void 0),[l,a]=(0,C.useState)({messageType:nX,message:{chainType:n.chain.chainType,chainId:n.chain.chainId,tokenAddress:n.address.toString()}}),r=(0,C.useRef)(void 0);(0,C.useEffect)(()=>{i.current.address===n.address||nG(r.current,n)||(i.current=n,a({messageType:nX,message:{chainType:n.chain.chainType,chainId:n.chain.chainId,tokenAddress:n.address.toString()}}))},[n,e]);let i=(0,C.useRef)(n);(0,nW.Z)(nq,{enabled:!!e&&!!n.address,messageTypes:["priceUpdate","priceSubscription","priceSubscriptionCancellation"],onMessage:e=>{let l=JSON.parse(e);try{let e=nG(l.message.feed,n);switch(r.current="priceSubscriptionCancellation"!==l.messageType?l.message.feed:void 0,l.messageType){case"priceSubscription":e&&s.current?(clearTimeout(s.current),s.current=void 0):e||setTimeout(()=>a({messageType:nX,message:{chainType:n.chain.chainType,chainId:n.chain.chainId,tokenAddress:n.address.toString()}}),5e3);return;case"priceSubscriptionCancellation":if(e&&!s.current){let e=setTimeout(()=>a({messageType:nX,message:{chainType:n.chain.chainType,chainId:n.chain.chainId,tokenAddress:n.address.toString()}}),5e3);s.current=e}return;case"priceUpdate":if(e){s.current&&(clearTimeout(s.current),s.current=void 0);let e=l.message;t(e.priceUsd,e.timestampMs,n);return}if(!s.current){let e=setTimeout(()=>a({messageType:nX,message:{chainType:n.chain.chainType,chainId:n.chain.chainId,tokenAddress:n.address.toString()}}),5e3);s.current=e}return}}catch(e){nz.error("Error updating token prices via web socket connection.",e)}},messageToSend:null!=l?l:void 0,afterSendMessage:()=>a(void 0)})}();let{baseToken:n,quoteToken:s}=(0,L.AK)(),{setChartDataToken:l,chartDataToken:a}=tH(),[r,i]=(0,C.useState)(s),c=(0,C.useCallback)(()=>{i(a),l(r)},[a,r,l]),o=(0,C.useMemo)(()=>tb.XA.some(e=>e===n.name)&&!tb.XA.some(e=>e===s.name),[n,s]);return(0,C.useEffect)(()=>{o?(l(s),i(n)):(l(n),i(s))},[n,o,s,l]),(0,w.jsxs)("div",{className:"flex w-full flex-col",children:[(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)("div",{className:"h-[400px]"}),(0,w.jsx)(na.Z,{debounceTime:0,children:e=>{let{width:n}=e;return(0,w.jsx)("div",{style:{width:n},className:"pointer-events-auto absolute top-0",children:(0,w.jsx)(nD,{width:n,reverseTokens:c,displayedBaseToken:a,displayedQuoteToken:r,isMobileViewport:t})})}})]}),(0,w.jsx)(nT,{isMobileViewport:t})]})}var nK=n(78986),n$=n(9631),nJ=n(44782);function nQ(){let e=(0,R.Gc)(),[t,n]=(0,C.useState)("terminal"),s=(0,C.useRef)(null),l=(0,C.useRef)(null),a=window&&window.innerWidth<=400,[r,i]=(0,C.useState)(!1);return(0,C.useEffect)(()=>{i("charts"===t)},[t]),(0,C.useEffect)(()=>{b.ix.sendPageview("/")},[]),(0,w.jsxs)(V.Z,{layoutClassName:k()("sm:pt-0",a&&"px-0","small"===e&&"items-start"),children:[(0,w.jsx)(n$.Z,{children:"Exchange"}),(0,w.jsx)(P.mN,{children:(0,w.jsx)(U.pA,{children:(0,w.jsx)(L.ZP,{children:(0,w.jsx)(F.Z,{children:(0,w.jsx)(_.Z,{children:(0,w.jsxs)(nK.Z,{children:[(0,w.jsx)(B.F,{}),(0,w.jsx)(nJ.Z,{}),(0,w.jsx)(tG,{children:(0,w.jsx)("div",{className:k()("fade-in-up flex w-full flex-col items-stretch justify-start lg:pt-[40px]",a&&"self-stretch"),ref:s,children:(0,w.jsx)("div",{className:k()("flex justify-center",a&&"self-stretch"),ref:l,children:(0,w.jsx)("div",{className:"flex w-full flex-initial flex-col justify-center gap-4 sm:items-center lg:items-stretch",children:"large"===e?(0,w.jsxs)("div",{className:"flex w-full sm:gap-[20px] lg:gap-[40px]",children:[(0,w.jsx)(nY,{}),(0,w.jsx)("div",{className:"min-w-[300px] max-w-[300px]",children:(0,w.jsx)(A.Z,{className:"rounded-lg p-[16px]",children:(0,w.jsx)(nl,{})})})]}):(0,w.jsxs)("div",{className:"flex w-full max-w-[400px] flex-1 flex-col gap-[20px]",children:[(0,w.jsxs)(I.Z,{value:t,onChange:n,size:"small",className:"border-b-[1px] border-gray-0_5 pt-[12px] text-sm",children:[(0,w.jsx)(I.Z.Tab,{label:"terminal",className:k()("flex-1","terminal"===t&&"text-gray-10"),tabUnderlineColor:"#09996E",children:(0,w.jsxs)("div",{className:"flex items-center justify-center gap-[10px]",children:[(0,w.jsx)(M,{}),"Exchange"]})}),(0,w.jsx)(I.Z.Tab,{label:"charts",className:k()("flex-1","charts"===t&&"text-gray-10"),tabUnderlineColor:"#09996E",children:(0,w.jsxs)("div",{className:"flex items-center justify-center gap-[10px]",children:[(0,w.jsx)(S,{}),"Charts"]})})]}),(0,w.jsxs)("div",{className:k()("h-full",a&&"p-5"),children:["terminal"===t&&(0,w.jsx)(nl,{isMobileViewport:a}),"charts"===t&&(0,w.jsx)("div",{className:k()("linear transition-opacity duration-[500ms]",r?"opacity-100":"opacity-0"),children:(0,w.jsx)(nY,{isMobileViewport:a})})]})]})})})})})]})})})})})})]})}}},function(e){e.O(0,[5405],function(){[4733,4354,6773,348,1565,3347,7830,1139,2929,1677,8113,6456,5820].map(e.E)},5),e.O(0,[6773,348,1565,3347,7830,1986,1139,2929,1677,1810,4794,1434,8113,437,3692,488,6456,9774,2888,179],function(){return e(e.s=87314)}),_N_E=e.O()}]);