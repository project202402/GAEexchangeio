"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4620],{68650:function(e,t,n){n.d(t,{DM:function(){return d},He:function(){return m},aV:function(){return h}});var s=n(12684),r=n(4236),a=n(92193),l=n(6797),o=n(94180),i=n(16067),c=n(2784);let u={set:3e4,setting:2e3,revoking:2e3,increasing:2e3};function d(e,t){var n;let{fetchAllowanceStatus:d,allowances:h}=(0,s.YT)(),{currentWallet:m}=(0,r.OZ)(),{getNativeTokenChain:x}=(0,a.rU)(),f=m?x(m.chain):void 0,v=h.find(n=>(0,i.RZ)(n.token,e)&&n.contract===t),p=(0,l.Z)();(0,o.Y)((0,c.useCallback)(()=>{p.current.abort(),p.current=new AbortController,f&&!(0,i.RZ)(e,f)&&t&&d(e,t,p.current.signal)},[p,e,t,f,d]),u[null!==(n=null==v?void 0:v.status)&&void 0!==n?n:"set"])}function h(e){let{token:t,contract:n}=e;return d(t,n),null}function m(e){let{token:t,contractsWithType:n,currentContract:d}=e;return!function(e,t,n){var d;let{fetchAllowanceStatus:h,allowances:m}=(0,s.YT)(),{currentWallet:x}=(0,r.OZ)(),{getNativeTokenChain:f}=(0,a.rU)(),v=x?f(x.chain):void 0,p=(0,l.Z)(),g=m.find(t=>(0,i.RZ)(t.token,e)&&t.contract===n);(0,o.Y)((0,c.useCallback)(()=>{p.current.abort(),p.current=new AbortController,v&&!(0,i.RZ)(e,v)&&t&&t&&n&&t.forEach(t=>{h(e,n,p.current.signal,t).catch(()=>{})})},[p,v,e,t,n]),u[null!==(d=null==g?void 0:g.status)&&void 0!==d?d:"set"])}(t,n,d),null}},90693:function(e,t,n){n.d(t,{Z:function(){return r}});var s=n(52322);function r(e){let{onChange:t,id:n,placeholder:r,value:a,validation:l,disabled:o,type:i="text",min:c,max:u,step:d="any",className:h,maxLength:m,readOnly:x,innerRef:f}=e;return(0,s.jsx)("input",{readOnly:x,ref:f,id:n,type:i,min:c,max:u,step:d,className:h,placeholder:r,onChange:e=>{if(t){if("number"===l){let n=e.target.value.trim(),s=Number(n.replace(/,/g,""));"."===n?t("0."):""!==n&&isNaN(s)||t(n)}else t(e.target.value)}},value:a,disabled:o,maxLength:m})}},80217:function(e,t,n){n.d(t,{Z:function(){return k}});var s=n(52322),r=n(72779),a=n.n(r),l=n(95376),o=n(25347),i=n(86783),c=n(12684),u=n(84986),d=n(4236),h=n(53952),m=n(64568),x=n(14917),f=n(50480);function v(e){let{onCancel:t,onSubmit:n,onShowWalletBlockedModal:r,token:l,contract:v,pageTheme:p}=e,{currentWallet:g}=(0,d.OZ)(),{theme:y}=(0,h.F)(),{tradeRestriction:j}=(0,x.r)(),{addAllowance:k}=(0,c.YT)(),w=async()=>{if(!g)throw Error("Wallet is required!");if((0,f.v)(g.chain),j&&r){r();return}let e=k(l,v);null==n||n(e)};return(0,s.jsx)("form",{className:a()("flex w-full flex-auto items-stretch","hashverse"===p&&"min-h-[300px]"),onSubmit:e=>e.preventDefault(),children:(0,s.jsxs)("div",{className:"flex flex-auto flex-col items-stretch gap-5",children:[(0,s.jsxs)("div",{className:"flex flex-auto flex-col items-center justify-center gap-5",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m.Z,{tokenName:l.name,size:40}),(0,s.jsx)("div",{className:"absolute -bottom-2 -right-3",children:"dark"===y?(0,s.jsx)(o.Z,{height:24,width:24}):(0,s.jsx)(i.Z,{height:24,width:24})})]}),(0,s.jsxs)("div",{className:a()("flex flex-col items-stretch","hashverse"===p?"gap-6":"gap-2"),children:[(0,s.jsxs)("div",{className:"text-center text-md text-gray-10",children:["Unlock ",l.name]}),(0,s.jsxs)("div",{className:"max-w-[450px] text-center text-sm text-gray-4",children:["You must give the Hashflow smart contract permission to use your"," ",l.name,". You only have to do this once per token."]})]})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(u.Z,{style:"hashverse"===p?"hashverse-modal-secondary":"secondary",onClick:t,children:"Cancel"})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(u.Z,{onClick:w,type:"submit",style:"hashverse"===p?"hashverse-modal-primary":"primary",children:"Unlock"})})]})]})})}var p=n(14196),g=n(85313),y=n(66743),j=n(2784),k=(0,y.Z)(function(e){let{isOpen:t,onRequestClose:n,token:r,enableTradeRestrictionChecks:o,contract:i,modalWidth:c,modalFloatingHeight:u,onAfterClose:d,pageTheme:h}=e,[m,f]=(0,j.useState)(),{requireAttestation:y}=(0,x.r)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{isOpen:t,onRequestClose:n,onAfterClose:d,modalWidth:null!=c?c:"hashverse"===h?600:void 0,floatingModalHeight:u,animationTheme:"hashverse"===h?"fade":void 0,borderClassName:"hashverse"===h?"bg-gray-0 shadow-[0_0_10px_1px] shadow-[#faed5080] border-yellow-10 border-[2px] transition-height duration-200 linear":void 0,children:(0,s.jsxs)("div",{className:a()("flex h-full min-h-[335px] flex-col justify-stretch overflow-auto","hashverse"===h&&"sm:p-[20px] lg:p-[40px]"),children:[(0,s.jsx)(l.Z.Header,{title:"Unlock Token",showCloseButton:!1,titleClassName:a()("hashverse"===h&&"font-orbitron text-[20px] font-extrabold normal-case leading-[24px] tracking-[1px] text-gray-10"),children:(0,s.jsx)(p.Z,{})}),(0,s.jsx)(v,{token:r,onSubmit:f,onCancel:n,onShowWalletBlockedModal:o?()=>y():void 0,contract:i,pageTheme:h})]})}),(0,s.jsx)(g.Z,{taskId:m,onRequestClose:n,onAfterClose:()=>f(void 0),pageTheme:h,title:"Unlock Token",customSuccessMessage:"It may take a minute for Hashflow to reflect the update."})]})})},53595:function(e,t,n){n.d(t,{Z:function(){return N}});var s=n(52322),r=n(72779),a=n.n(r),l=n(95376),o=n(45676),i=n(12684),c=n(84986),u=n(4236),d=n(64568),h=n(14917),m=n(38571),x=n(50480),f=n(48935),v=n(88727),p=n(16067);function g(e){let{onCancel:t,onSubmit:n,onShowWalletBlockedModal:r,token:l,contract:o,pageTheme:g}=e,{currentWallet:y}=(0,u.OZ)(),{tradeRestriction:j}=(0,h.r)(),{allowances:k,changeAllowanceToMax:w}=(0,i.YT)(),Z=k.find(e=>(0,p.RZ)(e.token,l)&&e.contract===o),b=(null==Z?void 0:Z.status)==="set"?Z.limit:f.xE,N=async()=>{if(!y)throw Error("Wallet is required!");if((0,x.v)(y.chain),j&&r){r();return}let e=w(l,o);null==n||n(e)};return(0,s.jsx)("form",{className:"flex w-full flex-auto items-stretch",onSubmit:e=>e.preventDefault(),children:(0,s.jsxs)("div",{className:"flex flex-auto flex-col items-stretch gap-5",children:[(0,s.jsxs)("div",{className:"flex flex-auto flex-col items-center justify-center gap-5",children:[(0,s.jsx)(d.Z,{tokenName:l.name,size:40}),(0,s.jsxs)("div",{className:a()("flex flex-col items-stretch","hashverse"===g?"gap-6":"gap-2"),children:[(0,s.jsxs)("div",{className:"text-center text-md text-gray-10",children:["Increase ",l.name," Allowance"]}),(0,s.jsxs)("div",{className:"max-w-[450px] text-center text-sm text-gray-4",children:["Hashflow only has permission to trade"," ",(0,v.Bw)((0,v.UK)(b,l.decimals),m.Df)," ",l.name," on your behalf. To complete this transaction, you must increase your allowance."]})]})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(c.Z,{style:"hashverse"===g?"hashverse-modal-secondary":"secondary",onClick:t,children:"Cancel"})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(c.Z,{onClick:N,type:"submit",style:"hashverse"===g?"hashverse-modal-primary":"primary",children:"Increase"})})]})]})})}var y=n(23637),j=n(14196),k=n(85313),w=n(66743),Z=n(27168),b=n(2784),N=(0,w.Z)(function(e){let{isOpen:t,onRequestClose:n,token:r,enableTradeRestrictionChecks:i,contract:c,modalWidth:u,modalFloatingHeight:d,onAfterClose:m,pageTheme:x}=e,[f,v]=(0,b.useState)(),p=(0,o.GS)(f),{requireAttestation:w}=(0,h.r)(),N=!!((null==p?void 0:p.error)&&(0,Z.Bk)(p.error)&&-32e3===p.error.code),C=!!(f&&!N);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{isOpen:t,onRequestClose:n,onAfterClose:m,modalWidth:u,floatingModalHeight:d,animationTheme:"hashverse"===x?"fade":void 0,borderClassName:"hashverse"===x?"bg-gray-0 shadow-[0_0_10px_1px] shadow-[#faed5080] border-yellow-10 border-[2px] transition-height duration-200 linear":void 0,children:(0,s.jsxs)("div",{className:a()("flex h-full min-h-[335px] flex-col justify-stretch overflow-auto","hashverse"===x&&"sm:p-[20px] lg:p-[40px]"),children:[(0,s.jsx)(l.Z.Header,{title:"Increase Allowance",showCloseButton:!1,children:(0,s.jsx)(j.Z,{})}),(0,s.jsx)(g,{token:r,onSubmit:v,onCancel:n,onShowWalletBlockedModal:i?()=>w():void 0,contract:c,pageTheme:x})]})}),(0,s.jsx)(y.Z,{isOpen:N,onRequestClose:n,token:r,contract:c,pageTheme:x}),C&&(0,s.jsx)(k.Z,{taskId:f,onRequestClose:n,title:"Increase Allowance",customSuccessMessage:"It may take a minute for Hashflow to reflect the update.",pageTheme:x})]})})},23637:function(e,t,n){n.d(t,{Z:function(){return g}});var s=n(52322),r=n(72779),a=n.n(r),l=n(95376),o=n(12684),i=n(84986),c=n(4236),u=n(33838),d=n(14917),h=n(50480);function m(e){let{onCancel:t,onSubmit:n,onShowWalletBlockedModal:r,token:l,contract:m,detailsType:x="basic",pageTheme:f}=e,{currentWallet:v}=(0,c.OZ)(),{tradeRestriction:p}=(0,d.r)(),{revokeAllowance:g}=(0,o.YT)(),y=async()=>{if(!v)return;if((0,h.v)(v.chain),p&&r){r();return}let e=g(l,m);null==n||n(e)};return(0,s.jsx)("form",{className:a()("flex w-full flex-auto items-stretch","hashverse"===f&&"min-h-[300px]"),onSubmit:e=>e.preventDefault(),children:(0,s.jsxs)("div",{className:"flex flex-auto flex-col items-stretch gap-5",children:[(0,s.jsxs)("div",{className:"flex flex-auto flex-col items-center justify-center gap-5",children:[(0,s.jsx)(u.Z,{type:"soft-alert",size:40}),(0,s.jsxs)("div",{className:"flex flex-col items-stretch gap-2",children:[(0,s.jsxs)("div",{className:"text-center text-md text-gray-10",children:["Revoke ",l.name," Allowance"]}),"basic"===x?(0,s.jsxs)("div",{className:"text-center text-sm text-gray-4",children:["Once confirmed, you will no longer be able to trade ",l.name," ","until you set a new allowance."]}):"cannot-update"===x?(0,s.jsxs)("div",{className:"text-center text-sm text-gray-4",children:["Unfortunately, ",l.name," allowances cannot be increased. To complete this transaction, you must revoke your allowance, then set a new one. This will require two separate transactions."]}):null]})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(i.Z,{style:"hashverse"===f?"hashverse-modal-secondary":"secondary",onClick:t,children:"Cancel"})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(i.Z,{onClick:y,style:"hashverse"===f?"hashverse-modal-primary":"primary",type:"submit",children:"Revoke"})})]})]})})}var x=n(14196),f=n(85313),v=n(66743),p=n(2784),g=(0,v.Z)(function(e){let{isOpen:t,onRequestClose:n,token:r,contract:o,enableTradeRestrictionChecks:i,pageTheme:c}=e,[u,h]=(0,p.useState)(),{requireAttestation:v}=(0,d.r)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{isOpen:t,onRequestClose:n,animationTheme:"hashverse"===c?"fade":void 0,modalWidth:"hashverse"===c?600:void 0,borderClassName:"hashverse"===c?"bg-gray-0 border border-solid border-yellow-10 shadow-[0px_0px_20px_rgb(250_237_80)]":void 0,pageTheme:c,children:(0,s.jsxs)("div",{className:a()("flex min-h-[335px] flex-col items-stretch gap-6","hashverse"===c&&"sm:p-[20px] lg:p-[40px]"),children:[(0,s.jsx)(l.Z.Header,{title:"Revoke Allowance",showCloseButton:!1,titleClassName:a()("hashverse"===c&&"font-orbitron text-[20px] font-extrabold normal-case leading-[24px] tracking-[1px] text-gray-10"),children:(0,s.jsx)(x.Z,{})}),(0,s.jsx)(m,{token:r,contract:o,onSubmit:h,onCancel:n,onShowWalletBlockedModal:i?()=>v():void 0,pageTheme:c})]})}),(0,s.jsx)(f.Z,{taskId:u,onRequestClose:n,onAfterClose:()=>h(void 0),title:"Revoke Allowance",customSuccessMessage:"It may take a minute for Hashflow to reflect the update.",pageTheme:c})]})})},7336:function(e,t,n){n.d(t,{Z:function(){return l}});var s=n(52322),r=n(84986),a=n(2784);function l(e){let{children:t,testId:n,...l}=e,o=a.Children.map(t,e=>e.props),i=o.find(e=>{let t=Object.prototype.hasOwnProperty.call(e,"test");return!t||("function"==typeof e.test?!!e.test():!!e.test)});if(!i)return null;let c={...i};return delete c.test,(0,s.jsx)(r.Z,{testId:n,...l,...c,children:i.children})}l.Condition=function(e){return null}},5213:function(e,t,n){n.d(t,{Z:function(){return i}});var s=n(72558),r=n(38571),a=n(2784);function l(e,t){if(e instanceof s.Z){let n=e.dividedBy(new s.Z(10).pow(t.decimals));return{bigNumber:e,string:(n.gt(1)?n.decimalPlaces(r.Df):n.precision(5)).toFormat()}}{let n=String(e);return{bigNumber:new s.Z(n.trim()||0).multipliedBy(new s.Z(10).pow(t.decimals)),string:n}}}function o(e,t){switch(t.type){case"reset":return{token:t.token,amount:l(t.amount,t.token)};case"set-token":return{token:t.token,amount:l(e.amount.string,t.token)};case"set-amount":return{...e,amount:l(t.amount,e.token)}}}function i(e,t){let[n,s]=(0,a.useReducer)(o,{token:e,amount:l(t,e)});return(0,a.useMemo)(()=>({...n,setToken:e=>{s({type:"set-token",token:e})},setAmount:e=>{s({type:"set-amount",amount:e})},reset:(e,t)=>s({type:"reset",token:e,amount:t})}),[n])}},94630:function(e,t,n){n.d(t,{CH:function(){return u},JY:function(){return c},Ok:function(){return i},P5:function(){return o},k7:function(){return l}});var s=n(4466),r=n(16067),a=n(49873);async function l(e,t){if(!e)return!1;{let n=e.hashflow.token.getToken(t.address.toString());return n.increaseAllowance.estimateGas(s.contractAddressesByNetwork.router[(0,a.Bd)(t.chain.chainId).name].address,1e5)}}function o(e,t,n,s){if((0,r.RZ)(n,s)||"solana"===n.chain.chainType)return!1;let a=e.find(e=>(0,r.RZ)(e.token,n)&&e.contract===t);return!!((null==a?void 0:a.status)!=="set"||a.limit.isZero())}function i(e,t,n,s,a){if((0,r.RZ)(n,s)||"solana"===n.chain.chainType)return!1;let l=e.find(e=>(0,r.RZ)(e.token,n)&&e.contract===t);if(!l)return!1;let o=Array.isArray(a)?a:[a];return!!o.includes(l.status)}function c(e,t,n,s){if((0,r.RZ)(n,s)||"solana"===n.chain.chainType)return!1;let a=e.find(e=>(0,r.RZ)(e.token,n)&&e.contract.toLowerCase()===t.toLowerCase());return!a}function u(e,t,n,s,a){if((0,r.RZ)(n,a)||"solana"===n.chain.chainType)return!1;let l=e.find(e=>(0,r.RZ)(e.token,n)&&e.contract===t),o=(null==l?void 0:l.status)==="set"?l.limit:void 0;return!(!o||o.isZero()||o.isGreaterThanOrEqualTo(s))}}}]);