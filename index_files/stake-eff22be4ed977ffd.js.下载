(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8797],{35869:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/stake",function(){return a(18955)}])},68007:function(e,t,a){"use strict";a.d(t,{Z:function(){return h}});var s=a(52322),n=a(72779),i=a.n(n),l=a(14349),r=a(60862),o=a(39807),c=a(73108),d=a(35631),x=a(43383),u=a(53952),m=a(98174);function h(e){let{children:t,layoutClassName:a,includeSwitchNetworkHeader:n}=e;return(0,s.jsx)(r.U,{highlightColor:"blue",children:(0,s.jsx)(u.u,{children:(0,s.jsx)(d.S,{children:(0,s.jsx)(o.Z,{className:(0,m.m)(a),header:(0,s.jsxs)("div",{className:i()("z-10 lg:border-transparent lg:bg-transparent","sticky top-0 w-screen lg:static","border-b border-gray-0_5 bg-gray-0"),id:"content-body",children:[(0,s.jsx)(l.Z,{}),(0,s.jsx)(c.Z,{includeSwitchNetworkHeader:n})]}),footer:(0,s.jsx)(x.Z,{}),children:t})})})})}},9631:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(52322),n=a(97729),i=a.n(n);function l(e){let{children:t}=e;return(0,s.jsx)(i(),{children:(0,s.jsx)("title",{children:"".concat(t," | Hashflow - The New Standard in DeFi Trading")},"title")})}},32369:function(e,t,a){"use strict";a.d(t,{D:function(){return d},r:function(){return x}});var s=a(72558),n=a(28879),i=a.n(n),l=a(30031),r=a(85156),o=a(52678),c=a(68287);async function d(e){let{wallet:t,isTestnet:a}=e,n=await o.Z.get("/client/hashverse/profile",{params:{wallet:t,isTestnet:String(null!=a?a:"false")}}),{hftStaked:l,stakeExpirationTimestampMs:r,maxPower:c,currentPower:d,hftRewards:x,xp:u,xpRank:m,player:h,totalStakedPower:f,dailyHftAward:g,hasNFTBoost:v,allegiances:p,xpLog:j,announcement:b,xpLevel:y,isAlphaWallet:k,isPrelaunchWallet:N}=n.data;return{hftStaked:new s.Z(l),stakeExpiration:i()(r).toDate(),maxPower:new s.Z(c),currentPower:new s.Z(d),hftRewards:new s.Z(x),xp:u,xpRank:m,totalStakedPower:new s.Z(f),dailyHftAward:new s.Z(g),hasNFTBoost:v,allegiances:p,player:h?{allegiances:h.allegiances,primaryAllegiance:h.primaryAllegiance,primaryAllegianceLost:h.primaryAllegianceLost,primaryAllegianceChangesRemaining:h.primaryAllegianceChangesRemaining,playerId:h.playerId,mediaAvatarUrl:h.mediaAvatarUrl,mediaThumbnailUrl:h.mediaThumbnailUrl,faction:h.faction,characterId:h.characterId}:void 0,xpLog:j,announcement:b,xpLevel:y,isAlphaWallet:null!=k&&k,isPrelaunchWallet:null!=N&&N}}async function x(e){let{wallet:t,abortSignal:a,currentHftStaked:s,currentStakeExpiration:n,isTestnet:i}=e,o=!0;for(;o;){let e=0;try{let e=await d({wallet:t,isTestnet:i});(0,r.k)(a),e.hftStaked.isEqualTo(s)&&e.stakeExpiration.getTime()===(null==n?void 0:n.getTime())||(o=!1)}catch(t){if((0,c.eE)(t)){if((e+=1)>5)throw t}else throw t}o&&await (0,l.Z)(4e3,a)}}},83896:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var s=a(80964),n=a.n(s),i=a(47785),l=a.n(i),r=a(2784);function o(){(0,r.useLayoutEffect)(()=>(document.body.classList.add(n().variable),document.body.classList.add(l().variable),()=>{document.body.classList.remove(n().variable),document.body.classList.remove(l().variable)}),[])}},18955:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ee}});var s=a(52322),n=a(58943),i=a(72558),l=a(84986),r=a(87559),o=a(4236),c=a(68007),d=a(48262),x=a(43098),u=a(4466),m=a(72779),h=a.n(m),f=a(28879),g=a.n(f),v=a(12684),p=a(68650),j=a(19158),b=a(84604),y=a(40047),k=a(19783),N=a(55847),w=a(80217),Z=a(53595),_=a(14196),S=a(99938),C=a(496),T=a(64562),E=a(75763),F=a(12599),H=a(7336),O=a(92193),A=a(42813),M=a(64746),P=a(5213),z=a(47576),L=a(94630),U=a(38571),Y=a(48935),B=a(88727),D=a(93663),R=a(9779),I=a(27502),W=a(16067),q=a(2784);function K(e){switch(e){case"0mo":return 0;case"1mo":return 30;case"3mo":return 90;case"6mo":return 180;case"12mo":return 360;case"24mo":return 720;case"48mo":return 1460}}function V(e){var t,a,n;let{hftStaked:i,stakeExpiration:r,totalStakedPower:c,dailyHftAward:d,hasNFTBoost:x}=e,m=(0,N.Gc)(),{balances:f}=(0,k.ln)(),V=(0,E.C)(),$=V(),{allowances:G}=(0,v.YT)(),{currentWallet:J}=(0,o.OZ)(),{getNativeTokenChain:X}=(0,O.rU)(),Q=(0,A.$3)(),[ee,et]=(0,q.useState)(!1),[ea,es]=(0,q.useState)(!1),[en,ei]=(0,q.useState)(!1),[el,er]=(0,q.useState)(!1),eo=i.isZero(),[ec,ed]=(0,q.useState)(!i.isZero()),ex=J?X(J.chain):void 0,eu=J&&I.ZY.find(e=>(0,I.O8)(J.chain,e))?R.y:R.J,em=J&&I.Wh[J.chain.chainId]?null===(a=u.contractAddressesByNetwork.stakingVault)||void 0===a?void 0:null===(t=a[I.Wh[J.chain.chainId]])||void 0===t?void 0:t.address:void 0,{amount:eh,setAmount:ef}=(0,P.Z)(eu,""),[eg,ev]=(0,q.useState)(void 0),ep=eg?K(eg):0,ej=r&&g()(r).unix()<=g()($).unix(),eb=null!==(n=eu&&f[(0,W.Bf)(eu)])&&void 0!==n?n:Y.xE,ey=(g()(r).unix()<g()($).unix()?g()($):g()(r)).add(ep,"days").toDate(),ek=(0,z.Z)({hftStaked:i.plus(eh.bigNumber),stakeExpiration:ey,totalStakedPower:c,dailyHftAward:d,hasNFTBoost:x}),[eN,ew]=(0,q.useState)(),[eZ,e_]=(0,q.useState)(void 0),{vestedHFT:eS}=(0,F.O)(),eC=()=>{let e=!0;return eh.bigNumber.isZero()&&i.isZero()?(e=!1,ew("Enter amount.")):eh.bigNumber.isGreaterThan(eb)?(e=!1,ew("Insufficient balance.")):0===ep&&i.isZero()&&(e=!1,e_("Must set lock period.")),e};return(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsxs)("div",{className:h()("rounded-[16px] border border-gray-0_75 bg-gray-0_25 p-[20px]","large"===m&&"w-[375px]"),children:[J&&em&&(0,s.jsx)(p.aV,{token:eu,contract:em}),(0,s.jsxs)("div",{className:"flex flex-col items-stretch gap-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-3 text-md",children:[i.isZero()?"Stake HFT":"Boost Power",(0,s.jsx)(_.Z,{disabled:!J})]}),(0,s.jsxs)("div",{className:"flex flex-auto flex-col items-stretch gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"flex items-end justify-between gap-3",children:[(0,s.jsx)("div",{className:"flex-auto truncate text-sm text-gray-4",children:i.isZero()?"Stake Amount":"Stake More HFT"}),!eo&&(0,s.jsx)(l.Z,{style:"link",size:"2x-small",font:"system",inline:!0,onClick:()=>{ef(""),ev(void 0)},children:"Reset"})]}),(0,s.jsx)(S.Z,{value:eh.string,onChange:e=>{ew(void 0),ef(e),e_(void 0)},balance:eb,balanceLabel:"Wallet Balance",onSetMaxBalance:()=>{ew(void 0),ef(eb)},error:eN,disabled:!J})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)("div",{className:"flex items-end justify-between gap-3",children:(0,s.jsx)("div",{className:"flex-auto truncate text-sm text-gray-4",children:i.isZero()?"Lock Period":"Extend Lock Period by"})}),(0,s.jsx)(y.Z,{style:"button",size:"x-small",value:eg,onChange:ev,children:(0,s.jsx)("div",{className:"grid w-full grid-cols-3 gap-2",children:Object.entries({"1mo":"1 Month","3mo":"3 Months","6mo":"6 Months","12mo":"12 Months","24mo":"24 Months","48mo":"48 Months"}).map(e=>{let[t,a]=e,n=K(t),i=g()(r).unix()-g()($).unix(),l=!J||r&&i+86400*n>D.CB;return(0,s.jsx)(y.Z.Tab,{label:t,disabled:l,disabledTooltipValue:J?"Max lock period reached.":"",className:"rounded-md",children:a},"duration-tab-".concat(t))})})}),eZ&&(0,s.jsx)("div",{className:"font-sm font-red-10",children:eZ})]}),(0,s.jsx)("div",{className:"flex flex-col justify-between gap-1 rounded-md border border-gray-1 px-4 py-3",children:(0,s.jsxs)("div",{className:"text-sm text-gray-4",children:["You earn"," ",(0,s.jsx)("span",{className:"text-gray-10",children:ek&&!i.plus(eh.bigNumber).isZero()?(0,B.T3)(ek,U.Df):"–"})," ","APR"]})})]}),(0,s.jsx)("div",{className:"flex gap-4",children:(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)(H.Z,{type:"submit",style:"primary",size:"header",children:[(0,s.jsx)(H.Z.Condition,{test:!J,onClick:()=>Q(),size:"large",children:"Connect Wallet"}),(0,s.jsx)(H.Z.Condition,{test:!em,disabled:!0,children:"Unsupported"}),(0,s.jsx)(H.Z.Condition,{testId:"stake-action-button-loading",test:!!J&&!!em&&!!ex&&(0,L.JY)(G,em,eu,ex),disabled:!0,size:"large",children:"Loading…"}),(0,s.jsx)(H.Z.Condition,{test:!!em&&!!ex&&(0,L.CH)(G,em,eu,eh.bigNumber,ex),size:"large",onClick:()=>er(!0),children:"Unlock HFT"}),(0,s.jsx)(H.Z.Condition,{test:!!em&&!!ex&&(0,L.Ok)(G,em,eu,ex,["setting","increasing"]),disabled:!0,size:"large",children:"Unlocking HFT…"}),(0,s.jsx)(H.Z.Condition,{test:!!em&&!!ex&&(0,L.Ok)(G,em,eu,ex,"revoking"),disabled:!0,size:"large",children:"Revoking HFT…"}),(0,s.jsx)(H.Z.Condition,{testId:"stake-action-button-unlock",test:!!em&&!!ex&&(0,L.P5)(G,em,eu,ex),size:"large",onClick:()=>ei(!0),children:"Unlock HFT"}),(0,s.jsx)(H.Z.Condition,{testId:"stake-action-button-next",size:"large",onClick:()=>{eC()&&et(!0)},disabled:i.isZero()&&(eh.bigNumber.isZero()||0===ep)||!ej&&eh.bigNumber.isZero()&&0===ep||void 0===eg,children:"Next"})]})})})]}),ee&&(0,s.jsx)(C.Z,{isOpen:ee,onRequestClose:()=>{et(!1)},onBack:()=>et(!1),hftStaked:i,stakeExpiration:r,additionalHFTStaked:eh.bigNumber,additionalLockPeriodDays:ep,totalStakedPower:c,dailyHftAward:d,hasNFTBoost:x,onSuccess:()=>{ef(""),ev(void 0)}}),en&&em&&J&&(0,s.jsx)(w.Z,{isOpen:en,onRequestClose:()=>{ei(!1)},token:eu,contract:em}),J&&em&&el&&(0,s.jsx)(Z.Z,{isOpen:el,onRequestClose:()=>{er(!1)},token:eu,contract:em})]}),!i.isZero()&&(0,s.jsxs)("div",{className:h()("rounded-[16px] border border-gray-0_75 bg-gray-0_25 p-[20px]","large"===m&&"w-[375px]"),children:[(0,s.jsxs)("div",{className:"flex w-full flex-auto cursor-pointer items-center justify-between gap-3 truncate text-sm text-gray-6",onClick:()=>{ed(()=>!ec)},children:[(0,s.jsx)(s.Fragment,{children:"Your Current Stake"}),(0,s.jsx)(j.Z,{direction:ec?"up":"down",className:"group-hocus:fill-gray-9"})]}),(0,s.jsx)(b.d,{children:ec&&(0,s.jsxs)("div",{className:"flex flex-col gap-2 pt-3",children:[(0,s.jsx)("div",{className:"flex flex-col gap-5 rounded-lg border border-gray-1 bg-gray-0_5 p-3",children:(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)("div",{className:"flex flex-1 flex-col gap-1",children:[(0,s.jsx)("div",{className:"text-xs uppercase text-gray-4",children:"HFT Staked"}),(0,s.jsx)("div",{className:"text-sm text-gray-10",children:"".concat((0,B.Bw)((0,B.UK)(i,eu.decimals),U.Df,0)," HFT")}),(0,s.jsx)("div",{className:h()("text-2xs",ej?"text-green-7":"text-gray-4"),children:ej?"Unlocked":"Locked"})]}),(0,s.jsxs)("div",{className:"flex flex-1 flex-col gap-1",children:[(0,s.jsx)("div",{className:"text-xs uppercase text-gray-4",children:"Rewards Earned"}),(0,s.jsx)("div",{className:"text-sm text-gray-10",children:"".concat((0,B.Bw)((0,B.UK)(eS,R.y.decimals),0,0)," HFT")}),(0,s.jsx)("div",{className:"text-2xs text-gray-4",children:ek&&"".concat((0,B.T3)(ek,U.Df)," APR")})]})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(l.Z,{style:ej?"secondary":"transparent",size:"large",onClick:()=>es(!0),disabled:!ej,children:ej?"Unstake HFT":"Locked for ".concat((0,M.mP)(g()($).unix(),g()(r).unix(),"long"))}),r&&(0,s.jsx)("div",{className:"pt-2 text-center text-2xs text-gray-4",children:ej?"Expired on ".concat(g()(r).format("MMM D, YYYY")):"Expires on ".concat(g()(r).format("MMM D, YYYY"))})]})]})})]}),(0,s.jsx)(T.Z,{isOpen:ea,onRequestClose:()=>es(!1),hftStaked:i,stakeExpiration:r})]})}var $=a(33838),G=a(9631),J=a(32369),X=a(83896);function Q(){let e=(0,A.$3)(),{disconnect:t}=(0,o.OZ)();return(0,s.jsx)("div",{className:"flex w-full items-center justify-center",children:(0,s.jsxs)("div",{className:"flex max-w-[400px] flex-col items-center gap-2",children:[(0,s.jsx)($.Z,{type:"severe-alert",size:40}),(0,s.jsx)("div",{className:"text-xl",children:"Well that’s embarrassing."}),(0,s.jsxs)("div",{className:"text-center text-sm text-gray-4",children:["You may want to"," ",(0,s.jsx)(l.Z,{style:"link",size:"small",inline:!0,onClick:()=>window.location.reload(),className:"font-sans font-medium",children:"reload the page"})," ",", try",(0,s.jsx)(l.Z,{style:"link",size:"small",inline:!0,onClick:async()=>{await t(),e()},className:"font-sans font-medium",children:"connecting a different wallet"}),", or try using a different device or browser."]}),(0,s.jsxs)("div",{className:"text-center text-sm text-gray-4",children:["For extra help, please reach out on"," ",(0,s.jsx)(r.Z,{href:x.BM,children:"Discord"}),"."]})]})})}function ee(){var e,t,a,l,r,x;(0,X.Z)();let{currentWallet:u}=(0,o.OZ)(),m=null!==(t=null==u?void 0:null===(e=u.address)||void 0===e?void 0:e.toString())&&void 0!==t?t:"",{data:h,isLoading:f,isError:g}=(0,n.a)(["hashverse-profile",m],()=>(0,J.D)({wallet:m,isTestnet:!(0,I.Kk)(u.chain)}),{enabled:!!m&&!!u,retry:3});return(0,s.jsx)(A.k$,{children:(0,s.jsxs)(c.Z,{includeSwitchNetworkHeader:!0,children:[(0,s.jsx)(G.Z,{children:"Stake"}),(0,s.jsx)("div",{className:"flex w-full flex-col items-center justify-center gap-6 py-6",children:g?(0,s.jsx)(Q,{}):u&&(f||!h)?(0,s.jsx)("div",{className:"flex w-full items-center justify-center",children:(0,s.jsx)(d.Z,{})}):(0,s.jsx)(V,{hftStaked:null!==(a=null==h?void 0:h.hftStaked)&&void 0!==a?a:new i.Z(0),stakeExpiration:null==h?void 0:h.stakeExpiration,totalStakedPower:null!==(l=null==h?void 0:h.totalStakedPower)&&void 0!==l?l:new i.Z(0),dailyHftAward:null!==(r=null==h?void 0:h.dailyHftAward)&&void 0!==r?r:new i.Z(0),hasNFTBoost:null!==(x=null==h?void 0:h.hasNFTBoost)&&void 0!==x&&x})})]})})}},80964:function(e){e.exports={style:{fontFamily:"'__Orbitron_e3219a', '__Orbitron_Fallback_e3219a'",fontWeight:500,fontStyle:"normal"},className:"__className_e3219a",variable:"__variable_e3219a"}},47785:function(e){e.exports={style:{fontFamily:"'__Orbitron_d65019', '__Orbitron_Fallback_d65019'",fontWeight:800,fontStyle:"normal"},className:"__className_d65019",variable:"__variable_d65019"}}},function(e){e.O(0,[8797],function(){[4733,4354,6773,348,1565,3347,7830,1139,2929,1677,8113,6456,5820].map(e.E)},5),e.O(0,[1986,1434,4620,3594,9774,2888,179],function(){return e(e.s=35869)}),_N_E=e.O()}]);